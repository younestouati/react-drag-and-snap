{"version":3,"file":"bundle.umd.js","sources":["../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/process-es6/browser.js","../node_modules/fbjs/lib/emptyFunction.js","../node_modules/fbjs/lib/invariant.js","../node_modules/fbjs/lib/warning.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/transformation-matrix/build-es/applyToPoint.js","../node_modules/transformation-matrix/build-es/fromObject.js","../node_modules/transformation-matrix/build-es/fromString.js","../node_modules/transformation-matrix/build-es/identity.js","../node_modules/transformation-matrix/build-es/inverse.js","../node_modules/transformation-matrix/build-es/isAffineMatrix.js","../node_modules/transformation-matrix/build-es/utils.js","../node_modules/transformation-matrix/build-es/translate.js","../node_modules/transformation-matrix/build-es/transform.js","../node_modules/transformation-matrix/build-es/rotate.js","../node_modules/transformation-matrix/build-es/scale.js","../node_modules/transformation-matrix/build-es/shear.js","../node_modules/transformation-matrix/build-es/toString.js","../src/utils/guid-utils.js","../src/helpers/misc/dom-element-helper.js","../src/utils/type-utils.js","../src/utils/object-utils.js","../src/utils/matrix-utils.js","../src/utils/react-utils.js","../src/utils/point-utils.js","../src/helpers/misc/mouse-touch-event.js","../src/helpers/misc/event-throttler.js","../src/helpers/misc/pointer-tracker.js","../src/drag-snap-logic/drag-modes.js","../src/prop-types/custom-prop-types.js","../node_modules/react-motion/lib/mapToZero.js","../node_modules/react-motion/lib/stripStyle.js","../node_modules/react-motion/lib/stepper.js","../node_modules/react-motion/node_modules/performance-now/lib/performance-now.js","../node_modules/performance-now/lib/performance-now.js","../node_modules/raf/index.js","../node_modules/react-motion/lib/shouldStopAnimation.js","../node_modules/react-motion/lib/Motion.js","../node_modules/react-motion/lib/StaggeredMotion.js","../node_modules/react-motion/lib/mergeDiff.js","../node_modules/react-motion/lib/TransitionMotion.js","../node_modules/react-motion/lib/presets.js","../node_modules/react-motion/lib/spring.js","../node_modules/react-motion/lib/reorderKeys.js","../node_modules/react-motion/lib/react-motion.js","../src/renderer/position-spring-switch.js","../src/renderer/prop-monitor.js","../src/renderer/spring-renderer.js","../src/helpers/misc/style-injector.js","../src/helpers/components/style-enforcer.js","../src/helpers/higher-order-components/make-class-based-component.js","../src/helpers/higher-order-components/state-sharing.js","../node_modules/invariant/invariant.js","../src/drag-snap-logic/normalize-draggable-config.js","../src/drag-snap-logic/drag-states.js","../src/defaults/default-draggable-collectors.js","../src/make-draggable.js","../src/drag-snap-logic/create-snapping-matrix.js","../src/drag-snap-logic/normalize-transform.js","../src/utils/array-utils.js","../src/defaults/default-snap-criteria.js","../src/defaults/default-snap-transformers.js","../src/drag-snap-logic/normalize-snap-target-config.js","../src/defaults/default-snap-target-collectors.js","../src/defaults/default-snap-priority.js","../src/utils/sort.js","../src/make-snap-target.js","../src/helpers/misc/window-size-monitor.js","../src/drag-snap-context.js","../src/internal-snap-target-transform.js"],"sourcesContent":["export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  var printWarning = function printWarning(format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format) {\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.indexOf('Failed Composite propType: ') === 0) {\n      return; // Ignore CompositeComponent proptype check.\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== 'production') {\n  var invariant = require('fbjs/lib/invariant');\n  var warning = require('fbjs/lib/warning');\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'the `prop-types` package, but received `%s`.', componentName || 'React class', location, typeSpecName, typeof typeSpecs[typeSpecName]);\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          invariant(\n            false,\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            warning(\n              false,\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `%s` prop on `%s`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n              propFullName,\n              componentName\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        warning(\n          false,\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received %s at index %s.',\n          getPostfixForTypeWarning(checker),\n          i\n        );\n        return emptyFunction.thatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix Affine matrix\n * @param point Point\n * @returns {{x: number, y: number}} Point\n */\nexport function applyToPoint(matrix, point) {\n  return {\n    x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n    y: matrix.b * point.x + matrix.d * point.y + matrix.f\n  };\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix Affine matrix\n * @param points Array of points\n * @returns {array} Array of points\n */\nexport function applyToPoints(matrix, points) {\n  return points.map(function (point) {\n    return applyToPoint(matrix, point);\n  });\n}","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Each value could be a float or a string that contains a float\n * @param object\n * @return {{a: *, b: *, c: *, e: *, d: *, f: *}}}\n */\nexport function fromObject(object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  };\n}","/**\n * @ignore\n * @type {RegExp}\n */\nvar matrixRegex = /^matrix\\(\\s*([0-9_\\+\\-\\.e]+)\\s*,\\s*([0-9_\\+\\-\\.e]+)\\s*,\\s*([0-9_\\+\\-\\.e]+)\\s*,\\s*([0-9_\\+\\-\\.e]+)\\s*,\\s*([0-9_\\+\\-\\.e]+)\\s*,\\s*([0-9_\\+\\-\\.e]+)\\s*\\)$/i;\n\n/**\n * Parse a string matrix formatted as matrix(a,b,c,d,e,f)\n * @param string String with a matrix\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix\n */\nexport function fromString(string) {\n  var parsed = string.match(matrixRegex);\n  if (parsed === null || parsed.length < 7) throw new Error(\"'\" + string + \"' is not a matrix\");\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  };\n}","/**\n * Identity matrix\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix\n */\nexport function identity() {\n  return {\n    a: 1, c: 0, e: 0,\n    b: 0, d: 1, f: 0\n  };\n}","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix Affine matrix\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix\n */\nexport function inverse(matrix) {\n  //http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  var a = matrix.a,\n      b = matrix.b,\n      c = matrix.c,\n      d = matrix.d,\n      e = matrix.e,\n      f = matrix.f;\n\n\n  var denom = a * d - b * c;\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  };\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar isNumeric = function isNumeric(n) {\n  return typeof n === 'number' && !isNaN(n) && isFinite(n);\n};\nvar isObject = function isObject(obj) {\n  return obj != null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n};\n\n/**\n * Check if the object contain an affine matrix\n * @param object\n * @return {boolean}\n */\nexport function isAffineMatrix(object) {\n  return isObject(object) && object.hasOwnProperty('a') && isNumeric(object.a) && object.hasOwnProperty('b') && isNumeric(object.b) && object.hasOwnProperty('c') && isNumeric(object.c) && object.hasOwnProperty('d') && isNumeric(object.d) && object.hasOwnProperty('e') && isNumeric(object.e) && object.hasOwnProperty('f') && isNumeric(object.f);\n}","export function isUndefined(val) {\n  return typeof val === 'undefined';\n}","/**\n * Calculate a translate matrix\n * @param tx Translation on axis x\n * @param [ty = 0] Translation on axis y\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix\n */\nexport function translate(tx) {\n  var ty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  return {\n    a: 1, c: 0, e: tx,\n    b: 0, d: 1, f: ty\n  };\n}","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...object} list of matrices\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix\n */\nexport function transform() {\n  for (var _len = arguments.length, matrices = Array(_len), _key = 0; _key < _len; _key++) {\n    matrices[_key] = arguments[_key];\n  }\n\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices;\n\n  var multiply = function multiply(m1, m2) {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b, c: m1.a * m2.c + m1.c * m2.d, e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b, d: m1.b * m2.c + m1.d * m2.d, f: m1.b * m2.e + m1.d * m2.f + m1.f\n    };\n  };\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided');\n\n    case 1:\n      return matrices[0];\n\n    case 2:\n      return multiply(matrices[0], matrices[1]);\n\n    default:\n      var _matrices = matrices,\n          _matrices2 = _toArray(_matrices),\n          m1 = _matrices2[0],\n          m2 = _matrices2[1],\n          rest = _matrices2.slice(2);\n\n      var m = multiply(m1, m2);\n      return transform.apply(undefined, [m].concat(_toConsumableArray(rest)));\n  }\n}","import { isUndefined } from \"./utils\";\nimport { translate } from \"./translate\";\nimport { transform } from \"./transform\";\n\nvar cos = Math.cos,\n    sin = Math.sin,\n    PI = Math.PI;\n/**\n * Calculate a rotation matrix\n * @param angle Angle in radians\n * @param [cx] If (cx,cy) are supplied the rotate is about this point\n * @param [cy] If (cx,cy) are supplied the rotate is about this point\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix *\n */\n\nexport function rotate(angle, cx, cy) {\n  var cosAngle = cos(angle);\n  var sinAngle = sin(angle);\n  var rotationMatrix = {\n    a: cosAngle, c: -sinAngle, e: 0,\n    b: sinAngle, d: cosAngle, f: 0\n  };\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix;\n  }\n\n  return transform([translate(cx, cy), rotationMatrix, translate(-cx, -cy)]);\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle Angle in degree\n * @param [cx] If (cx,cy) are supplied the rotate is about this point\n * @param [cy] If (cx,cy) are supplied the rotate is about this point\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix\n */\nexport function rotateDEG(angle) {\n  var cx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var cy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n  return rotate(angle * PI / 180, cx, cy);\n}","import { isUndefined } from \"./utils\";\n\n/**\n * Calculate a scaling matrix\n * @param sx Scaling on axis x\n * @param [sy = sx] Scaling on axis y (default sx)\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix\n */\nexport function scale(sx) {\n  var sy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n  if (isUndefined(sy)) sy = sx;\n  return {\n    a: sx, c: 0, e: 0,\n    b: 0, d: sy, f: 0\n  };\n}","/**\n * Calculate a shear matrix\n * @param shx Shear on axis x\n * @param shy Shear on axis y\n * @returns {{a: number, b: number, c: number, e: number, d: number, f: number}} Affine matrix\n */\nexport function shear(shx, shy) {\n  return {\n    a: 1, c: shx, e: 0,\n    b: shy, d: 1, f: 0\n  };\n}","/**\n * Serialize the matrix to a string that can be used with CSS or SVG\n * @param matrix Affine matrix\n * @returns {string} String that contains a matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS(matrix) {\n  return toString(matrix);\n}\n\n/**\n * Serialize the matrix to a string that can be used with CSS or SVG\n * @param matrix Affine matrix\n * @returns {string} String that contains a matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG(matrix) {\n  return toString(matrix);\n}\n\n/**\n * Serialize the matrix to a string that can be used with CSS or SVG\n * @param matrix Affine matrix\n * @returns {string} String that contains a matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString(matrix) {\n  return \"matrix(\" + matrix.a + \",\" + matrix.b + \",\" + matrix.c + \",\" + matrix.d + \",\" + matrix.e + \",\" + matrix.f + \")\";\n}","const createGuid = () => {\n\tfunction s4() {\n\t\treturn Math.floor((1 + Math.random()) * 0x10000)\n\t\t\t.toString(16)\n\t\t\t.substring(1);\n\t}\n\n\treturn s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n};\n\nexport {createGuid};","class DOMElementHelper {\n\tconstructor(el) {\n\t\tthis.computedStyles = {\n\t\t\tbase: new Map(),\n\t\t\tbefore: new Map(),\n\t\t\tafter: new Map()\n\t\t};\n\t\tthis.el = el;\n\n\t\tif (this.el) {\n\t\t\tthis.updateElement(this.el);\n\t\t}\n\t}\n\n\tupdateComputedStyles() {\n\t\tconst computedStyles = {\n\t\t\tbase: window.getComputedStyle(this.el),\n\t\t\tbefore: window.getComputedStyle(this.el, ':before'),\n\t\t\tafter: window.getComputedStyle(this.el, ':after')\n\t\t};\n\n\t\t['base', 'before', 'after'].forEach((elementType) => {\n\t\t\tconst m = new Map();\n\n\t\t\tfor (let i=0;i<computedStyles[elementType].length;i++) {\n\t\t\t\tconst key = computedStyles[elementType][i];\n\t\t\t\tconst value = computedStyles[elementType][computedStyles[elementType][i]];\n\t\t\t\tm.set(key, value);\n\t\t\t}\n\n\t\t\tthis.computedStyles[elementType] = m;\n\t\t}); \t\n\t}\n\n\tupdateElement(el) {\n\t\tthis.el = el;\n\t\tthis.boundingClientRect = this.el.getBoundingClientRect();\n\t\tthis.updateComputedStyles();\n\n\t\tthis.borderWidth = {\n\t\t\ttop: window.parseFloat(this.computedStyles.base.get('border-top-width')),\n\t\t\tbottom: window.parseFloat(this.computedStyles.base.get('border-bottom-width')),\n\t\t\tleft: window.parseFloat(this.computedStyles.base.get('border-left-width')),\n\t\t\tright: window.parseFloat(this.computedStyles.base.get('border-right-width'))\n\t\t};\n\n\t\tthis.padding = {\n\t\t\tleft: window.parseFloat(this.computedStyles.base.get('padding-left')),\n\t\t\tright: window.parseFloat(this.computedStyles.base.get('padding-right')),\n\t\t\ttop: window.parseFloat(this.computedStyles.base.get('padding-top')),\n\t\t\tbottom: window.parseFloat(this.computedStyles.base.get('padding-bottom'))\n\t\t};\n\n\t\tthis.margin = {\n\t\t\tleft: window.parseFloat(this.computedStyles.base.get('margin-left')),\n\t\t\tright: window.parseFloat(this.computedStyles.base.get('margin-right')),\n\t\t\ttop: window.parseFloat(this.computedStyles.base.get('margin-top')),\n\t\t\tbottom: window.parseFloat(this.computedStyles.base.get('margin-bottom'))\n\t\t};\n\n\t\tthis.isBorderBox = this.computedStyles.base.get('box-sizing') === 'border-box';\n\n\t\tthis.contentBoxSize = {\n\t\t\twidth: this.el.clientWidth - (this.padding.left + this.padding.right),\n\t\t\theight: this.el.clientHeight - (this.padding.top + this.padding.bottom)\n\t\t};\n\n\t\t//Border-box size includes padding and border widths (padding already included in clientWidth)\n\t\tthis.borderBoxSize = {\n\t\t\twidth: this.el.clientWidth + this.borderWidth.left + this.borderWidth.right,\n\t\t\theight: this.el.clientHeight + this.borderWidth.top + this.borderWidth.bottom\n\t\t};\n\t};\n\n\trefresh() {\n\t\tthis.updateElement(this.el);\n\t}\n\n\tgetElement() {\n\t\treturn this.el;\n\t}\n\n\tgetSize() {\n\t\treturn this.isBorderBox ? this.borderBoxSize : this.contentBoxSize;\n\t}\n\n\tgetScaledSize(scaleX, scaleY) {\n\t\tconst size = this.getSize();\n\n\t\treturn {\n\t\t\twidth: size.width * scaleX,\n\t\t\theight: size.height * scaleY\n\t\t};\n\t}\n\n\tgetBoundingClientRect() {\n\t\treturn this.boundingClientRect;\n\t}\n\n\tgetSizeOrDefault(defaultSize) {\n\t\treturn this.getSize() || defaultSize;\n\t}\n\n\tgetPadding() {\n\t\treturn this.padding;\n\t}\n\n\tgetBorderWidth() {\n\t\treturn this.borderWidth;\n\t}\n\n\tgetIsBorderBox() {\n\t\treturn this.isBorderBox;\n\t}\n\n\t// Returns the center of the border-box or content-box depending on box-sizing CSS prop. Eitherway it will be\n\t// returned in border box coordinates.\n\tgetCenterInBorderBoxCoordinates() {\n\t\treturn this.isBorderBox ? {\n\t\t\tx: this.borderBoxSize.width/2,// + this.margin.left,\n\t\t\ty: this.borderBoxSize.height/2// + this.margin.top\n\t\t} : {\n\t\t\tx: this.contentBoxSize.width/2 + this.padding.left + this.borderWidth.left,// + this.margin.left,\n\t\t\ty: this.contentBoxSize.height/2 + this.padding.top + this.borderWidth.top// + this.margin.top\n\t\t};\n\t}\n\n\tgetComputedStyles(invalidate = false) {\n\t\tif (invalidate) {\n\t\t\tthis.updateComputedStyles();\n\t\t}\n\n\t\treturn this.computedStyles;\n\t}\n}\n\nexport {DOMElementHelper};","const isBoolean = (val) => typeof val === 'boolean';\nconst isFunction = (val) => typeof val === 'function';\nconst isObject = (val) => val !== null && typeof val === 'object' && !isArray(val);\nconst isNumber = (val) => typeof val === 'number';\nconst isString = (val) => typeof val === 'string';\nconst isArray = (val) => Array.isArray(val);\nconst isNullOrUndefined = (val) => typeof val === 'undefined' || val === null;\n\nexport {isBoolean, isFunction, isObject, isNumber, isString, isArray, isNullOrUndefined};","const shallowClone = (obj) => Object.assign({}, obj);\nconst extend = (...objects) => Object.assign({}, ...objects);\nconst iterate = (obj, callback) => Object.keys(obj).forEach((key) => callback(obj[key], key));\n\nconst shallowCloneExcluding = (obj, excludeKeys) => {\n\tconst returnObject = {};\n\titerate(obj, (val, key) => {\n\t\tif (excludeKeys.indexOf(key) === -1) {\n\t\t\treturnObject[key] = val;\n\t\t}\n\t});\n\n\treturn returnObject;\n};\n\nconst shallowEqual = (obj1, obj2) => {\n\tif (obj1 === obj2) {\n\t\treturn true;\n\t}\n\n\tconst keys1 = Object.keys(obj1);\n\tconst keys2 = Object.keys(obj2);\n\n\tif (keys1.length !== keys2.length) {\n\t\treturn false;\n\t}\n\n\treturn keys1.every(k => obj2.hasOwnProperty(k) && obj1[k] === obj2[k]);\n}\n\nexport {extend, iterate, shallowClone, shallowCloneExcluding, shallowEqual};","import {\n\ttransform,\n\ttranslate,\n\tidentity,\n\tfromObject,\n\trotateDEG,\n\tscale,\n\tapplyToPoint,\n\tinverse,\n\trotate\n} from 'transformation-matrix';\nimport {DOMElementHelper} from '../helpers/misc/dom-element-helper';\nimport {isNullOrUndefined} from './type-utils';\nimport {extend} from './object-utils';\n\nfunction matrixFromString(string){\n\tlet entries = string.replace(/^.*\\((.*)\\)$/g, \"$1\").split(/, +/);\n\n\tconst parsedEntries = (entries.length === 6)\n\t\t? entries.map(parseFloat)\n\t\t: [1, 0, 0, 1, 0, 0];\n\n\treturn {\n\t\ta: parsedEntries[0],\n\t\tb: parsedEntries[1],\n\t\tc: parsedEntries[2],\n\t\td: parsedEntries[3],\n\t\te: parsedEntries[4],\n\t\tf: parsedEntries[5]\n\t};\n}\n\nfunction extractRotation(matrix) {\n\treturn Math.atan2(matrix.b, matrix.a) / (Math.PI / 180);\n}\n\nfunction extractScale(matrix) {\n\tconst denom = Math.pow(matrix.a, 2) + Math.pow(matrix.b, 2);\n\tconst x = Math.sqrt(denom);\n\tconst y = (matrix.a * matrix.d - matrix.c * matrix.b) / x;\n\treturn {x, y};\n}\n\nfunction extractSkew(matrix) {\n\tconst denom = Math.pow(matrix.a, 2) + Math.pow(matrix.b, 2);\n\tconst skewX = Math.atan2(matrix.a * matrix.c + matrix.b * matrix.d, denom) / (Math.PI / 180);\n\n\treturn {\n\t\tx: skewX,\n\t\ty: 0\n\t};\n}\n\nfunction extractTranslation(matrix) {\n\treturn {\n\t\tx: matrix.e,\n\t\ty: matrix.f\n\t};\n}\n\nfunction skewXMatrix(x) {\n\treturn fromObject({\n\t\ta: 1,\n\t\tb: 0,\n\t\tc: Math.tan(x / 180 * Math.PI),\n\t\td: 1,\n\t\te: 0,\n\t\tf: 0\n\t});\n}\n\nfunction skew(x, y) {\n\treturn fromObject({\n\t\ta: 1,\n\t\tb: Math.tan(y / 180 * Math.PI),\n\t\tc: Math.tan(x / 180 * Math.PI),\n\t\td: 1,\n\t\te: 0,\n\t\tf: 0\n\t});\t\n}\n\nfunction translationOnly(matrix) {\n\treturn extend(matrix, {a: 1, b: 0, c: 0, d: 1});\n}\n\nfunction overrideTranslation (matrix, {x, y}) {\n\treturn extend(matrix, {e: x, f: y});\n}\n\n//Based on this: https://github.com/kangax/fabric.js/blob/master/src/util/misc.js\nfunction qrDecompose(matrix) {\n\tconst scale = extractScale(matrix);\n\tconst skew = extractSkew(matrix);\n\n\treturn {\n\t\trotate: extractRotation(matrix), \t// rotation in degrees\n\t\tscaleX: scale.x,\n\t\tscaleY: scale.y,\n\t\tskewX: skew.x,\t\t \t\t\t \t// skewX in degrees\n\t\tskewY: 0,                      \t\t// skewY in degrees\n\t\tx: matrix.e,\n\t\ty: matrix.f\n\t};\n}\n\nfunction getCenterOfBorderBox(domElementHelper) {\n    const {left, top, width, height} = domElementHelper.getBoundingClientRect();\n    \n    return {\n        x: left + width/2,\n        y: top + height/2\n    };\n}\n\n/*\n * The snapping functionality is based on the outermost HTML elements of the draggable and the \n * snapTarget. That is, if the snapTransform dictates that the draggable should snap to the \n * snapTarget by - say - exactly covering it, it will make the outermost element of the draggable \n * adapt in position, size, rotation, and skew, to exactly match that of the outer most element of \n * the snapTarget when snapping.\n * \n * React-drag-and-snap will use the elements content-boxes or border-boxes in these snapping calculations \n * depending on the values of the box-sizing CSS properties of the given elements.\n *\n * To do the snapping react-drag-and-snap needs to determine the transformation matrices of the draggable \n * and snap target. That is the matrices that describe the elements poses in the global window coordinate system. \n * The scaling, rotation and skew parts are determined by reading and accumulating the CSS transforms for the \n * element and its entire ancestor tree. However, the position - defined as the position of the center of the \n * element - is hard to determine analytically, as it is the result of CSS transformations, left/top/bottom/right \n * props if position is relative/absolute/fixed, and the element's natural position in the document flow given \n * the current viewport size. Consequently, the position is determined by measuring, i.e. using \n * getBoundingClientRect().\n *\n * GetBoundingClientRect returns the position and size of the boundingBox, which is the smallest axis-aligned \n * rectangle that fully contains the entire element, including padding and border (that is the border box - not \n * the content box)! The center of this rectangle will always coincide with the center of the content box \n * (regardless of any affine transformation that might have be applied to the the element or any ancestor) \n * provided that:\n *   1) The sum of padding left and border left width equals the sum of padding right and border right width\n *   2) The sum of padding top and border top width equals the sum of padding bottom and border bottom width\n *\n * When the criteria above arent met, the non-uniform padding/border needs to be accounted for, in order to find \n * the center of the content box. That is the reason for the complexity of this method.\n */\nfunction getCenterOfContentBox(domElementHelper, CSSTransform) {\n    const {left, top, width, height} = domElementHelper.getBoundingClientRect();\n    const padding = domElementHelper.getPadding();\n    const borderWidth = domElementHelper.getBorderWidth();\n    const {rotate: rotation, scaleX, scaleY, skewX} = qrDecompose(CSSTransform);\n\n    const x = left + width/2 - (padding.right - padding.left)/2 - (borderWidth.right - borderWidth.left)/2;\n    const y = top + height/2 - (padding.bottom - padding.top)/2 - (borderWidth.bottom - borderWidth.top)/2;\n\n    const matrix = transformMultiple(\n        translate(left + width/2, top + height/2),\n        rotate(rotation * Math.PI/180),\n        scale(scaleX, scaleY),\n        skewXMatrix(skewX),\n        translate(-(left + width/2), -(top + height/2))\n    );\n\n    return applyToPoint(matrix, {x, y});\n}\n\nfunction getCSSTransformsMatrix(DOMElement) {\n\tconst elementTransform = window.getComputedStyle(DOMElement).transform;\n\treturn elementTransform && elementTransform !== 'none' ? matrixFromString(elementTransform) : identity();\n}\n\nfunction getAccumulatedCSSTransform(DOMElement) {\n\tlet accumulatedMatrix = identity();\n\n\tdo {\n\t\taccumulatedMatrix = transform(getCSSTransformsMatrix(DOMElement), accumulatedMatrix);\n\t\tDOMElement = DOMElement.offsetParent\n\t} while(DOMElement);\n\n\treturn accumulatedMatrix;\n}\n\nfunction getTransformationMatrix(DOMElement) {\n\tconst domElementHelper = new DOMElementHelper(DOMElement);\n\tconst accumulatedCSSTransform = getAccumulatedCSSTransform(DOMElement);\n\n\tconst elementCenter = domElementHelper.getIsBorderBox()\n\t\t? getCenterOfBorderBox(domElementHelper)\n\t\t: getCenterOfContentBox(domElementHelper, accumulatedCSSTransform);\n\t\n\treturn overrideTranslation(getAccumulatedCSSTransform(DOMElement), elementCenter);\n}\n\nfunction transformMultiple (...matrices) {\n\treturn matrices.reduce((acc, cur) => transform(acc, cur), identity());\n}\n\nfunction transformPosition(matrix, position) {\n\treturn applyToPoint(inverse(matrix), position);\n}\n\nfunction transformVelocity(matrix, velocity) {\n\tconst {x, y} = extractTranslation(matrix);\n\tconst translatedVelocityVector = {\n\t\tx: velocity.x + x,\n\t\ty: velocity.y + y\n\t};\n\n\treturn applyToPoint(inverse(matrix), translatedVelocityVector);\n}\n\nfunction transformRotation(matrix, rotation) {\n\treturn rotation - extractRotation(matrix);\n}\n\nfunction transformScale(actualSnapTargetSize, actualDraggableSize) {\n\treturn {\n\t\tscaleX: actualDraggableSize.width / actualSnapTargetSize.width,\n\t\tscaleY: actualDraggableSize.height / actualSnapTargetSize.height\n\t};\n}\n\nfunction transformSkew(matrix, skew) {\n\tconst targetSkew = extractSkew(matrix);\n\n\treturn {\n\t\tskewX: skew.x - targetSkew.x,\n\t\tskewY: skew.y - targetSkew.y\n\t};\n}\n\n/* \n * Given to transforms (objects with properties x, y, rotate, scale (or scaleX and scaleY), and skewX),\n * this function returns the matrix that represents the transformation from the first transform to the second.\n * If any of the transforms is only partially defined, any missing value will default to 0, except scale which\n * defaults to 1.\n */\nfunction deltaMatrix (oldTransform = {}, newTransform = {}) {\n\tconst DETAULT_TRANSFORM = {x: 0, y: 0, rotate: 0, skewX: 0, scale: 1};\n\tconst o = extend(DETAULT_TRANSFORM, oldTransform);\n\tconst n = extend(DETAULT_TRANSFORM, newTransform);\n\n\tconst oScaleX = !isNullOrUndefined(o.scaleX) ? o.scaleX : o.scale;\n\tconst oScaleY = !isNullOrUndefined(o.scaleY) ? o.scaleY : o.scale;\n\tconst nScaleX = !isNullOrUndefined(n.scaleX) ? n.scaleX : n.scale;\n\tconst nScaleY = !isNullOrUndefined(n.scaleY) ? n.scaleY : n.scale;\n\n\treturn transform(\n\t\ttranslate(n.x - o.x, n.y - o.y),\n\t\trotateDEG(n.rotate - o.rotate),\n\t\tscale(nScaleX/oScaleX, nScaleY/oScaleY),\n\t\tskewXMatrix(n.skewX - o.skewX)\n\t);\n}\n\nexport {\n\tgetAccumulatedCSSTransform,\n\tgetTransformationMatrix,\n\tgetCenterOfContentBox,\n\tgetCenterOfBorderBox,\n\tqrDecompose,\n\textractRotation,\n\textractScale,\n\textractSkew,\n\textractTranslation,\n\tskew,\n\ttransformMultiple,\n\ttranslationOnly,\n\tdeltaMatrix,\n\toverrideTranslation,\n\ttransformVelocity,\n\ttransformPosition,\n\ttransformRotation,\n\ttransformScale,\n\ttransformSkew\n};","const getDisplayName = (component) => component.displayName || component.name || 'Component';\n\nexport {getDisplayName};","const addPoints = (p1, p2) => ({\n\tx: p1.x + p2.x,\n\ty: p1.y + p2.y\n});\n\nconst subtractPoints = (p1, p2) => ({\n\tx: p1.x - p2.x,\n\ty: p1.y - p2.y\n});\n\nconst averagePoints = (points) => ({\n\tx: points.reduce((acc, curr)  => curr.x + acc, 0) / points.length,\n\ty: points.reduce((acc, curr) => curr.y + acc, 0) / points.length\n});\n\nconst scalePoint = (point, scale) => ({\n\tx: point.x * scale,\n\ty: point.y * scale\n});\n\nconst distance = (p1, p2 = {x: 0, y: 0}) => (\n\tMath.sqrt((p1.x-p2.x)*(p1.x-p2.x) + (p1.y-p2.y)*(p1.y-p2.y))\n);\n\nconst getOrigo = () => ({x: 0, y: 0});\n\nexport {addPoints, subtractPoints, averagePoints, scalePoint, distance, getOrigo};","function extractPointFromEvent(e, identifier) {\n\tconst points = {};\n\tif (e.changedTouches) {\n\t\tfor (let i=0;i<e.changedTouches.length;i++) {\n\t\t\tconst touch = e.changedTouches.item(i);\n\t\t\tpoints[touch.identifier] = {\n\t\t\t\tx: touch.clientX,\n\t\t\t\ty: touch.clientY\n\t\t\t}\n\t\t}\n\t} else {\n\t\tpoints.mouse = {\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY\n\t\t};\n\t}\n\n\treturn points[identifier];\n}\n\nfunction extractFirstIdentifier(e) {\n\treturn e.changedTouches\n\t\t? e.changedTouches.item(0).identifier\n\t\t: 'mouse';\n}\n\nexport {extractPointFromEvent, extractFirstIdentifier};","import {shallowClone} from '../../utils/object-utils';\n\nclass EventThrottler {\n\tconstructor(handler) {\n\t\tthis.handler = handler;\n\t\tthis.latestEvent = null;\n\t\tthis.animationId = null;\n\t}\n\n\tinvokeCallback() {\n\t\tthis.handler(this.latestEvent);\n\t\tthis.animationId = requestAnimationFrame(this.invokeCallback.bind(this));\n\t};\n\n\tpause() {\n\t\tcancelAnimationFrame(this.animationId);\n\t\tthis.animationId = null;\n\t};\n\n\taddEvent(event) {\n\t\tthis.latestEvent = shallowClone(event);\n\t\tif (!this.animationId) {\n\t\t\tthis.animationId = requestAnimationFrame(this.invokeCallback.bind(this));\n\t\t}\n\t}\n}\n\nexport {EventThrottler};","import {extractPointFromEvent, extractFirstIdentifier} from './mouse-touch-event';\nimport {subtractPoints, averagePoints, scalePoint, getOrigo} from '../../utils/point-utils';\nimport {EventThrottler} from './event-throttler';\nimport {shallowClone} from '../../utils/object-utils';\n\nconst AVERAGING_WINDOW = 3;\n\nclass PointerTracker {\n\tconstructor(startCallback, moveCallback, endCallback, eventThrottler = EventThrottler) {\n\t\tthis.startCallback = startCallback;\n\t\tthis.endCallback = endCallback;\n\t\tthis.pointerIdentifier = null;\n\n\t\tthis.boundMoveHandler = this.moveHandler.bind(this);\n\t\tthis.boundEndHandler = this.endHandler.bind(this);\n\t\tthis.boundCancelHandler = this.cancelHandler.bind(this);\n\n\t\tthis.eventThrottler = new eventThrottler(moveCallback);\n\t}\n\n\tdestroy() {\n\t\tthis.removeEventHandlers();\n\t}\n\n\tremoveEventHandlers() {\n\t\twindow.removeEventListener('mousemove', this.boundMoveHandler);\n\t\twindow.removeEventListener('mouseup', this.boundEndHandler);\n\t\twindow.removeEventListener('touchmove', this.boundMoveHandler);\n\t\twindow.removeEventListener('touchend', this.boundEndHandler);\n\t\twindow.removeEventListener('touchcancel', this.boundCancelHandler);\n\t}\n\n\taddEventHandlers() {\n\t\tthis.removeEventHandlers();\n\n\t\twindow.addEventListener('mousemove', this.boundMoveHandler, {passive: false});\n\t\twindow.addEventListener('mouseup', this.boundEndHandler, {passive: false});\n\t\twindow.addEventListener('touchmove', this.boundMoveHandler, {passive: false});\n\t\twindow.addEventListener('touchend', this.boundEndHandler, {passive: false});\n\t\twindow.addEventListener('touchcancel', this.boundCancelHandler, {passive: false});\n\t}\n\n\tresetVelocities() {\n\t\tthis.point = null;\n\t\tthis.prevTime = null;\n\t\tthis.prevPosition = null;\n\t\tthis.animationId = null;\n\t\tthis.velocities = [];\n\t}\n\n\tupdateVelocities(point) {\n\t\tconst currentTime = performance.now();\n\n\t\tif (this.prevTime) {\n\t\t\tconst deltaPosition = subtractPoints(point, this.prevPosition);\n\t\t\tconst deltaTime = (currentTime - this.prevTime);\n\t\t\tthis.velocities.push(scalePoint(deltaPosition, 1/deltaTime));\n\n\n\t\t\tif (this.velocities.length === AVERAGING_WINDOW ) {\n\t\t\t\tthis.velocities.shift();\n\t\t\t}\n\t\t}\n\n\t\tthis.prevTime = currentTime;\n\t\tthis.prevPosition = shallowClone(point);\n\t}\n\n\tgetVelocity() {\n\t\treturn this.velocities.length ? averagePoints(this.velocities) : getOrigo();\n\t}\n\n\tstartHandler(e) {\n\t\te.stopPropagation();\n\t\tconst point = extractPointFromEvent(e, this.pointerIdentifier);\n\n\t\tthis.startCallback({position: point, velocity: {x: 0, y: 0}});\n\t}\n\n\tmoveHandler(e) {\n\t\tconst point = extractPointFromEvent(e, this.pointerIdentifier);\n\n\t\tif (point) {\n\t\t\te.preventDefault();\n\t\t\tthis.updateVelocities(point);\n\t\t\tthis.eventThrottler.addEvent({position: point, velocity: this.getVelocity()});\n\t\t}\n\t}\n\n\tendHandler(e) {\n\t\tconst point = extractPointFromEvent(e, this.pointerIdentifier);\n\n\t\tif (point) {\n\t\t\tthis.endCallback({position: point, velocity: this.getVelocity()});\n\t\t\tthis.removeEventHandlers();\n\t\t\tthis.eventThrottler.pause();\n\t\t}\n\t}\n\n\tcancelHandler(e) {\n\t\tthis.endHandler(e);\n\t}\n\n\ttrack(e) {\n\t\tthis.pointerIdentifier = extractFirstIdentifier(e);\n\t\tthis.resetVelocities();\n\t\tthis.addEventHandlers();\n\t\tthis.startHandler(e);\n\t}\n}\n\nexport {PointerTracker};","/**\n * Dragging elements around works by rendering a clone of the draggable, which follows the mouse/finger. That means,\n * while dragging is going on, two versions of the element will be rendered (the original may or may not be visible -\n * but it is there).\n *\n * Draggable elements can be configured to work in one of three modes (through the dragMode prop), while dragging is\n * conducted:\n * 1. default: The original element will be hidden, but still occupy space (i.e. visibility:hidden).\n * 2. move: The original will be hidden and no longer occupy any space (i.e. display:none)\n * 3. clone: The original remains visible while the clone is being dragged around\n */\n\nconst DRAG_MODES = ['default', 'move', 'clone'];\n\n//[style] is a way of overwriting even inline styles (https://css-tricks.com/override-inline-styles-with-css/)\nconst dragModeStyles = `\n\t[data-drag-mode-move],\n\t[data-drag-mode-move][style] {\n\t\tdisplay: none!important;\n\t}\n\t[data-drag-mode-default],\n\t[data-drag-mode-default][style] {\n\t\tvisibility: hidden!important;\n\t}\n`;\n\nconst getDragModeAttribute = (dragMode) => `data-drag-mode-${dragMode.toLowerCase()}`;\n\nexport {DRAG_MODES, dragModeStyles, getDragModeAttribute};","import PropTypes from 'prop-types';\nimport {DRAG_MODES} from '../drag-snap-logic/drag-modes';\n\nconst handleMissingProp = (isRequired, propName, componentName) => {\n\tif (isRequired) {\n\t\treturn new Error(`Missing required property ${propName} in ${componentName}`);\n\t}\n\n\treturn null;\n};\n\nconst createSpringConfigPropType = (isRequired) => {\n\tconst shape = PropTypes.shape({\n\t\tdamping: PropTypes.number.isRequired,\n\t\tstiffness: PropTypes.number.isRequired\n\t});\n\n\treturn isRequired ? shape.isRequired :shape;\n};\n\nconst createDragModePropType = (isRequired) => {\n\treturn (props, propName, componentName) => {\n\t\tconst prop = props[propName];\n\t\tconst type = typeof prop;\n\n\t\tif (type === 'undefined') {\n\t\t\treturn handleMissingProp(isRequired, propName, componentName);\n\t\t}\n\n\t\tif (type !== 'string' || DRAG_MODES.indexOf(prop.toLowerCase()) === -1) {\n\t\t\treturn new Error(`${propName} in ${componentName} must be one of the strings: ${DRAG_MODES.join(', ')}`);\n\t\t}\n\n\t\treturn null;\n\t};\n};\n\nconst createTransformPropType = (isRequired) => {\n\tconst shape = PropTypes.shape({\n\t\trotate: PropTypes.number,\n\t\tskewX: PropTypes.number,\n\t\tx: PropTypes.number,\n\t\ty: PropTypes.number,\n\t\tscaleX: PropTypes.number,\n\t\tscaleY: PropTypes.number\n\t});\n\n\treturn isRequired ? shape.isRequired : shape;\n};\n\nconst createSizePropType = (isRequired) => {\n\tconst shape = PropTypes.shape({\n\t\twidth: PropTypes.number.isRequired,\n\t\theight: PropTypes.number.isRequried\n\t});\n\n\treturn isRequired ? shape.isRequired : shape;\n};\n\nconst createPointPropType = (isRequired) => {\n\tconst shape = PropTypes.shape({\n\t\tx: PropTypes.number.isRequired,\n\t\ty: PropTypes.number.isRequried\n\t});\n\n\treturn isRequired ? shape.isRequired : shape;\n};\n\nconst springConfig = createSpringConfigPropType(false);\nspringConfig.isRequired = createSpringConfigPropType(true);\n\nconst dragMode = createDragModePropType(false);\ndragMode.isRequired = createDragModePropType(true);\n\nconst transform = createTransformPropType(false);\ntransform.isRequired = createTransformPropType(true);\n\nconst size = createSizePropType(false);\nsize.isRequired = createSizePropType(true);\n\nconst point = createPointPropType(false);\npoint.isRequired = createPointPropType(true);\n\nconst CustomPropTypes = {springConfig, dragMode, transform, size, point};\nexport {CustomPropTypes};","\n\n// currently used to initiate the velocity style object to 0\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mapToZero;\n\nfunction mapToZero(obj) {\n  var ret = {};\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      ret[key] = 0;\n    }\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\n// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = stripStyle;\n\nfunction stripStyle(style) {\n  var ret = {};\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];","\n\n// stepper is used a lot. Saves allocation to return the same array wrapper.\n// This is fine and danger-free against mutations because the callsite\n// immediately destructures it and gets the numbers inside without passing the\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stepper;\n\nvar reusedTuple = [0, 0];\n\nfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n  // Spring stiffness, in kg / s^2\n\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  var Fspring = -k * (x - destX);\n\n  // Damping, in kg / s\n  var Fdamper = -b * v;\n\n  // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n  var a = Fspring + Fdamper;\n\n  var newV = v + a * secondPerFrame;\n  var newX = x + newV * secondPerFrame;\n\n  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n    reusedTuple[0] = destX;\n    reusedTuple[1] = 0;\n    return reusedTuple;\n  }\n\n  reusedTuple[0] = newX;\n  reusedTuple[1] = newV;\n  return reusedTuple;\n}\n\nmodule.exports = exports[\"default\"];\n// array reference around.","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","\n\n// usage assumption: currentStyle values have already been rendered but it says\n// nothing of whether currentStyle is stale (see unreadPropStyle)\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = shouldStopAnimation;\n\nfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    if (currentVelocity[key] !== 0) {\n      return false;\n    }\n\n    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;\n    // stepper will have already taken care of rounding precision errors, so\n    // won't have such thing as 0.9999 !=== 1\n    if (currentStyle[key] !== styleValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = (function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          }\n\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  };\n\n  // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n})(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default'];\n\n// after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nfunction shouldStopAnimationAll(currentStyles, styles, currentVelocities) {\n  for (var i = 0; i < currentStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar StaggeredMotion = (function (_React$Component) {\n  _inherits(StaggeredMotion, _React$Component);\n\n  _createClass(StaggeredMotion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].objectOf(_propTypes2['default'].number)),\n      styles: _propTypes2['default'].func.isRequired,\n      children: _propTypes2['default'].func.isRequired\n    },\n    enumerable: true\n  }]);\n\n  function StaggeredMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, StaggeredMotion);\n\n    _React$Component.call(this, props);\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _state = _this.state;\n      var currentStyles = _state.currentStyles;\n      var currentVelocities = _state.currentVelocities;\n      var lastIdealStyles = _state.lastIdealStyles;\n      var lastIdealVelocities = _state.lastIdealVelocities;\n\n      var someDirty = false;\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i];\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              someDirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n          }\n        }\n      }\n\n      if (someDirty) {\n        _this.setState({ currentStyles: currentStyles, currentVelocities: currentVelocities, lastIdealStyles: lastIdealStyles, lastIdealVelocities: lastIdealVelocities });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        var destStyles = _this.props.styles(_this.state.lastIdealStyles);\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyles = [];\n        var newLastIdealVelocities = [];\n        var newCurrentStyles = [];\n        var newCurrentVelocities = [];\n\n        for (var i = 0; i < destStyles.length; i++) {\n          var destStyle = destStyles[i];\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in destStyle) {\n            if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n              continue;\n            }\n\n            var styleValue = destStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];\n              var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  StaggeredMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n\n    var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);\n    var currentVelocities = currentStyles.map(function (currentStyle) {\n      return _mapToZero2['default'](currentStyle);\n    });\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: currentStyles,\n      lastIdealVelocities: currentVelocities\n    };\n  };\n\n  StaggeredMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  StaggeredMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    this.unreadPropStyles = props.styles(this.state.lastIdealStyles);\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  StaggeredMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  StaggeredMotion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return StaggeredMotion;\n})(_react2['default'].Component);\n\nexports['default'] = StaggeredMotion;\nmodule.exports = exports['default'];\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400\n\n// after checking for unreadPropStyles != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","\n\n// core keys merging algorithm. If previous render's keys are [a, b], and the\n// next render's [c, b, d], what's the final merged keys and ordering?\n\n// - c and a must both be before b\n// - b before d\n// - ordering between a and c ambiguous\n\n// this reduces to merging two partially ordered lists (e.g. lists where not\n// every item has a definite ordering, like comparing a and c above). For the\n// ambiguous ordering we deterministically choose to place the next render's\n// item after the previous'; so c after a\n\n// this is called a topological sorting. Except the existing algorithms don't\n// work well with js bc of the amount of allocation, and isn't optimized for our\n// current use-case bc the runtime is linear in terms of edges (see wiki for\n// meaning), which is huge when two lists have many common elements\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mergeDiff;\n\nfunction mergeDiff(prev, next, onRemove) {\n  // bookkeeping for easier access of a key's index below. This is 2 allocations +\n  // potentially triggering chrome hash map mode for objs (so it might be faster\n\n  var prevKeyIndex = {};\n  for (var i = 0; i < prev.length; i++) {\n    prevKeyIndex[prev[i].key] = i;\n  }\n  var nextKeyIndex = {};\n  for (var i = 0; i < next.length; i++) {\n    nextKeyIndex[next[i].key] = i;\n  }\n\n  // first, an overly elaborate way of merging prev and next, eliminating\n  // duplicates (in terms of keys). If there's dupe, keep the item in next).\n  // This way of writing it saves allocations\n  var ret = [];\n  for (var i = 0; i < next.length; i++) {\n    ret[i] = next[i];\n  }\n  for (var i = 0; i < prev.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(nextKeyIndex, prev[i].key)) {\n      // this is called my TM's `mergeAndSync`, which calls willLeave. We don't\n      // merge in keys that the user desires to kill\n      var fill = onRemove(i, prev[i]);\n      if (fill != null) {\n        ret.push(fill);\n      }\n    }\n  }\n\n  // now all the items all present. Core sorting logic to have the right order\n  return ret.sort(function (a, b) {\n    var nextOrderA = nextKeyIndex[a.key];\n    var nextOrderB = nextKeyIndex[b.key];\n    var prevOrderA = prevKeyIndex[a.key];\n    var prevOrderB = prevKeyIndex[b.key];\n\n    if (nextOrderA != null && nextOrderB != null) {\n      // both keys in next\n      return nextKeyIndex[a.key] - nextKeyIndex[b.key];\n    } else if (prevOrderA != null && prevOrderB != null) {\n      // both keys in prev\n      return prevKeyIndex[a.key] - prevKeyIndex[b.key];\n    } else if (nextOrderA != null) {\n      // key a in next, key b in prev\n\n      // how to determine the order between a and b? We find a \"pivot\" (term\n      // abuse), a key present in both prev and next, that is sandwiched between\n      // a and b. In the context of our above example, if we're comparing a and\n      // d, b's (the only) pivot\n      for (var i = 0; i < next.length; i++) {\n        var pivot = next[i].key;\n        if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n          continue;\n        }\n\n        if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {\n          return -1;\n        } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {\n          return 1;\n        }\n      }\n      // pluggable. default to: next bigger than prev\n      return 1;\n    }\n    // prevOrderA, nextOrderB\n    for (var i = 0; i < next.length; i++) {\n      var pivot = next[i].key;\n      if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n        continue;\n      }\n      if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {\n        return 1;\n      } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {\n        return -1;\n      }\n    }\n    // pluggable. default to: next bigger than prev\n    return -1;\n  });\n}\n\nmodule.exports = exports['default'];\n// to loop through and find a key's index each time), but I no longer care","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _mergeDiff = require('./mergeDiff');\n\nvar _mergeDiff2 = _interopRequireDefault(_mergeDiff);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\n// the children function & (potential) styles function asks as param an\n// Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format\n// {key: string, data?: any, style: PlainStyle}. However, the way we keep\n// internal states doesn't contain such a data structure (check the state and\n// TransitionMotionState). So when children function and others ask for such\n// data we need to generate them on the fly by combining mergedPropsStyles and\n// currentStyles/lastIdealStyles\nfunction rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {\n  // Copy the value to a `const` so that Flow understands that the const won't\n  // change and will be non-nullable in the callback below.\n  var cUnreadPropStyles = unreadPropStyles;\n  if (cUnreadPropStyles == null) {\n    return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n      return {\n        key: mergedPropsStyle.key,\n        data: mergedPropsStyle.data,\n        style: plainStyles[i]\n      };\n    });\n  }\n  return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n    for (var j = 0; j < cUnreadPropStyles.length; j++) {\n      if (cUnreadPropStyles[j].key === mergedPropsStyle.key) {\n        return {\n          key: cUnreadPropStyles[j].key,\n          data: cUnreadPropStyles[j].data,\n          style: plainStyles[i]\n        };\n      }\n    }\n    return { key: mergedPropsStyle.key, data: mergedPropsStyle.data, style: plainStyles[i] };\n  });\n}\n\nfunction shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {\n  if (mergedPropsStyles.length !== destStyles.length) {\n    return false;\n  }\n\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (mergedPropsStyles[i].key !== destStyles[i].key) {\n      return false;\n    }\n  }\n\n  // we have the invariant that mergedPropsStyles and\n  // currentStyles/currentVelocities/last* are synced in terms of cells, see\n  // mergeAndSync comment for more info\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// core key merging logic\n\n// things to do: say previously merged style is {a, b}, dest style (prop) is {b,\n// c}, previous current (interpolating) style is {a, b}\n// **invariant**: current[i] corresponds to merged[i] in terms of key\n\n// steps:\n// turn merged style into {a?, b, c}\n//    add c, value of c is destStyles.c\n//    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}\n// turn current (interpolating) style from {a, b} into {a?, b, c}\n//    maybe remove a\n//    certainly add c, value of c is willEnter(c)\n// loop over merged and construct new current\n// dest doesn't change, that's owner's\nfunction mergeAndSync(willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {\n  var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {\n    var leavingStyle = willLeave(oldMergedPropsStyle);\n    if (leavingStyle == null) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {\n      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });\n      return null;\n    }\n    return { key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data, style: leavingStyle };\n  });\n\n  var newCurrentStyles = [];\n  var newCurrentVelocities = [];\n  var newLastIdealStyles = [];\n  var newLastIdealVelocities = [];\n  for (var i = 0; i < newMergedPropsStyles.length; i++) {\n    var newMergedPropsStyleCell = newMergedPropsStyles[i];\n    var foundOldIndex = null;\n    for (var j = 0; j < oldMergedPropsStyles.length; j++) {\n      if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {\n        foundOldIndex = j;\n        break;\n      }\n    }\n    // TODO: key search code\n    if (foundOldIndex == null) {\n      var plainStyle = willEnter(newMergedPropsStyleCell);\n      newCurrentStyles[i] = plainStyle;\n      newLastIdealStyles[i] = plainStyle;\n\n      var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);\n      newCurrentVelocities[i] = velocity;\n      newLastIdealVelocities[i] = velocity;\n    } else {\n      newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];\n      newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];\n      newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];\n      newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];\n    }\n  }\n\n  return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];\n}\n\nvar TransitionMotion = (function (_React$Component) {\n  _inherits(TransitionMotion, _React$Component);\n\n  _createClass(TransitionMotion, null, [{\n    key: 'propTypes',\n    value: {\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].number).isRequired\n      })),\n      styles: _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired\n      }))]).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      willEnter: _propTypes2['default'].func,\n      willLeave: _propTypes2['default'].func,\n      didLeave: _propTypes2['default'].func\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      willEnter: function willEnter(styleThatEntered) {\n        return _stripStyle2['default'](styleThatEntered.style);\n      },\n      // recall: returning null makes the current unmounting TransitionStyle\n      // disappear immediately\n      willLeave: function willLeave() {\n        return null;\n      },\n      didLeave: function didLeave() {}\n    },\n    enumerable: true\n  }]);\n\n  function TransitionMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, TransitionMotion);\n\n    _React$Component.call(this, props);\n    this.unmounting = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _mergeAndSync = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, unreadPropStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n      var mergedPropsStyles = _mergeAndSync[0];\n      var currentStyles = _mergeAndSync[1];\n      var currentVelocities = _mergeAndSync[2];\n      var lastIdealStyles = _mergeAndSync[3];\n      var lastIdealVelocities = _mergeAndSync[4];\n\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i].style;\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n              mergedPropsStyles[i] = {\n                key: mergedPropsStyles[i].key,\n                data: mergedPropsStyles[i].data,\n                style: _extends({}, mergedPropsStyles[i].style)\n              };\n            }\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n            mergedPropsStyles[i].style[key] = styleValue;\n          }\n        }\n      }\n\n      // unlike the other 2 components, we can't detect staleness and optionally\n      // opt out of setState here. each style object's data might contain new\n      // stuff we're not/cannot compare\n      _this.setState({\n        currentStyles: currentStyles,\n        currentVelocities: currentVelocities,\n        mergedPropsStyles: mergedPropsStyles,\n        lastIdealStyles: lastIdealStyles,\n        lastIdealVelocities: lastIdealVelocities\n      });\n    };\n\n    this.startAnimationIfNecessary = function () {\n      if (_this.unmounting) {\n        return;\n      }\n\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // https://github.com/chenglou/react-motion/pull/420\n        // > if execution passes the conditional if (this.unmounting), then\n        // executes async defaultRaf and after that component unmounts and after\n        // that the callback of defaultRaf is called, then setState will be called\n        // on unmounted component.\n        if (_this.unmounting) {\n          return;\n        }\n\n        var propStyles = _this.props.styles;\n        var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles;\n\n        // check if we need to animate in the first place\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var _mergeAndSync2 = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n        var newMergedPropsStyles = _mergeAndSync2[0];\n        var newCurrentStyles = _mergeAndSync2[1];\n        var newCurrentVelocities = _mergeAndSync2[2];\n        var newLastIdealStyles = _mergeAndSync2[3];\n        var newLastIdealVelocities = _mergeAndSync2[4];\n\n        for (var i = 0; i < newMergedPropsStyles.length; i++) {\n          var newMergedPropsStyle = newMergedPropsStyles[i].style;\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in newMergedPropsStyle) {\n            if (!Object.prototype.hasOwnProperty.call(newMergedPropsStyle, key)) {\n              continue;\n            }\n\n            var styleValue = newMergedPropsStyle[key];\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = newLastIdealStyles[i][key];\n              var newLastIdealVelocityValue = newLastIdealVelocities[i][key];\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities,\n          mergedPropsStyles: newMergedPropsStyles\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  TransitionMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n    var willEnter = _props.willEnter;\n    var willLeave = _props.willLeave;\n    var didLeave = _props.didLeave;\n\n    var destStyles = typeof styles === 'function' ? styles(defaultStyles) : styles;\n\n    // this is special. for the first time around, we don't have a comparison\n    // between last (no last) and current merged props. we'll compute last so:\n    // say default is {a, b} and styles (dest style) is {b, c}, we'll\n    // fabricate last as {a, b}\n    var oldMergedPropsStyles = undefined;\n    if (defaultStyles == null) {\n      oldMergedPropsStyles = destStyles;\n    } else {\n      oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {\n        // TODO: key search code\n        for (var i = 0; i < destStyles.length; i++) {\n          if (destStyles[i].key === defaultStyleCell.key) {\n            return destStyles[i];\n          }\n        }\n        return defaultStyleCell;\n      });\n    }\n    var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    });\n    var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    });\n\n    var _mergeAndSync3 = mergeAndSync(\n    // Because this is an old-style createReactClass component, Flow doesn't\n    // understand that the willEnter and willLeave props have default values\n    // and will always be present.\n    willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really\n    oldCurrentVelocities);\n\n    var mergedPropsStyles = _mergeAndSync3[0];\n    var currentStyles = _mergeAndSync3[1];\n    var currentVelocities = _mergeAndSync3[2];\n    var lastIdealStyles = _mergeAndSync3[3];\n    var lastIdealVelocities = _mergeAndSync3[4];\n    // oldLastIdealVelocities really\n\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: lastIdealStyles,\n      lastIdealVelocities: lastIdealVelocities,\n      mergedPropsStyles: mergedPropsStyles\n    };\n  };\n\n  // after checking for unreadPropStyles != null, we manually go set the\n  // non-interpolating values (those that are a number, without a spring\n  // config)\n\n  TransitionMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  TransitionMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    var styles = props.styles;\n    if (typeof styles === 'function') {\n      this.unreadPropStyles = styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));\n    } else {\n      this.unreadPropStyles = styles;\n    }\n\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  TransitionMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unmounting = true;\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  TransitionMotion.prototype.render = function render() {\n    var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);\n    var renderedChildren = this.props.children(hydratedStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return TransitionMotion;\n})(_react2['default'].Component);\n\nexports['default'] = TransitionMotion;\nmodule.exports = exports['default'];\n\n// list of styles, each containing interpolating values. Part of what's passed\n// to children function. Notice that this is\n// Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,\n// data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles\n// contains the key & data info (so that we only have a single source of truth\n// for these, and to save space). Check the comment for `rehydrateStyles` to\n// see how we regenerate the entirety of what's passed to children function\n\n// the array that keeps track of currently rendered stuff! Including stuff\n// that you've unmounted but that's still animating. This is where it lives\n\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = {\n  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided\n  gentle: { stiffness: 120, damping: 14 },\n  wobbly: { stiffness: 180, damping: 12 },\n  stiff: { stiffness: 210, damping: 20 }\n};\nmodule.exports = exports[\"default\"];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = spring;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _presets = require('./presets');\n\nvar _presets2 = _interopRequireDefault(_presets);\n\nvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n  precision: 0.01\n});\n\nfunction spring(val, config) {\n  return _extends({}, defaultConfig, config, { val: val });\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports['default'] = reorderKeys;\n\nvar hasWarned = false;\n\nfunction reorderKeys() {\n  if (process.env.NODE_ENV === 'development') {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\\'s new styles array API.');\n    }\n  }\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }\n\nvar _Motion = require('./Motion');\n\nexports.Motion = _interopRequire(_Motion);\n\nvar _StaggeredMotion = require('./StaggeredMotion');\n\nexports.StaggeredMotion = _interopRequire(_StaggeredMotion);\n\nvar _TransitionMotion = require('./TransitionMotion');\n\nexports.TransitionMotion = _interopRequire(_TransitionMotion);\n\nvar _spring = require('./spring');\n\nexports.spring = _interopRequire(_spring);\n\nvar _presets = require('./presets');\n\nexports.presets = _interopRequire(_presets);\n\nvar _stripStyle = require('./stripStyle');\n\nexports.stripStyle = _interopRequire(_stripStyle);\n\n// deprecated, dummy warning function\n\nvar _reorderKeys = require('./reorderKeys');\n\nexports.reorderKeys = _interopRequire(_reorderKeys);","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {CustomPropTypes} from '../prop-types/custom-prop-types';\nimport {shallowClone} from '../utils/object-utils';\nimport {Motion, spring} from 'react-motion';\n\nclass PositionSpringSwitch extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinitialRawTransform: props.rawTransform,\n\t\t\tisSpringOnForPosition: props.alwaysOn,\n\t\t\tstartDelta: {x: 0, y: 0}\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (this.props.activations !== nextProps.activations) {\n\t\t\tconst startDelta = {\n\t\t\t\tx: this.props.springTransform.x - this.props.rawTransform.x,\n\t\t\t\ty: this.props.springTransform.y - this.props.rawTransform.y\n\t\t\t};\n\n\t\t\tthis.setState({isSpringOnForPosition: true, startDelta, initialRawTransform: this.props.rawTransform});\n\t\t\trequestAnimationFrame(() => this.setState({isSpringOnForPosition: false}));\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {children, rawTransform: currentRawTransform, springTransform, springConfig, alwaysOn} = this.props;\n\t\tconst {isSpringOnForPosition, startDelta, initialRawTransform} = this.state;\n\n\t\t//TODO: EXPLAIN THIS!!\n\t\tconst rawTransform = isSpringOnForPosition ? initialRawTransform : currentRawTransform;\n\n\t\treturn (\n\t\t\t<Motion\n\t\t\t\tstyle={{\n\t\t\t\t\tmultiplier: isSpringOnForPosition ? 1 : spring(0, springConfig)\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{({multiplier}) => {\n\t\t\t\t\tconst transformToApply = shallowClone(springTransform);\n\n\t\t\t\t\tif (!alwaysOn) {\n\t\t\t\t\t\tconst delta = {\n\t\t\t\t\t\t\tx: springTransform.x - rawTransform.x,\n\t\t\t\t\t\t\ty: springTransform.y - rawTransform.y\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ttransformToApply.x = rawTransform.x + (delta.x - startDelta.x) * multiplier;\n\t\t\t\t\t\ttransformToApply.y = rawTransform.y + (delta.y - startDelta.y) * multiplier;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst displacement = {\n\t\t\t\t\t\tx: transformToApply.x - rawTransform.x,\n\t\t\t\t\t\ty: transformToApply.y - rawTransform.y\n\t\t\t\t\t};\n\n\t\t\t\t\treturn \tchildren(transformToApply, displacement);\t\n\t\t\t\t}}\n\t\t\t</Motion>\n\t\t);\n\t}\n}\n\nPositionSpringSwitch.propTypes = {\n\trawTransform: CustomPropTypes.transform.isRequired,\n\tspringTransform: CustomPropTypes.transform.isRequired,\n\tactivations: PropTypes.number.isRequired,\n\tswitchOffAutomatically: PropTypes.bool.isRequired,\n\talwaysOn: PropTypes.bool.isRequired,\n\tspringConfig: PropTypes.object.isRequired\n};\n\nexport {PositionSpringSwitch};","import {shallowEqual} from '../utils/object-utils';\nimport {isNullOrUndefined} from '../utils/type-utils';\n\nclass PropMonitor {\n    constructor(oldProps, newProps) {\n        this.oldProps = oldProps;\n        this.newProps = newProps;\n    }\n\n    ifBecomingFalse(prop, callback) {\n        if (this.oldProps[prop] && !this.newProps[prop]) {\n            callback();\n        }\n    }\n\n    ifValueChange(prop, callback) {\n        if (this.oldProps[prop] !== this.newProps[prop]) {\n            callback();\n        }    \n    }\n\n    ifDefinedValueChange(prop, callback) {\n        if (\n            this.oldProps[prop] !== this.newProps[prop] &&\n            !isNullOrUndefined(this.oldProps[prop]) &&\n            !isNullOrUndefined(this.newProps[prop])\n        ) {\n            callback();\n        }    \n    }\n\n    ifBecomingTrue(prop, callback) {\n        if (!this.oldProps[prop] && this.newProps[prop]) {\n            callback();\n        }\n    }\n\n    ifBooleanChange(prop, callback) {\n        if (this.oldProps[prop] !== this.newProps[prop]) {\n            callback();\n        }\n    }\n\n    ifShallowChange(prop, callback) {\n        if (!shallowEqual(this.oldProps[prop], this.newProps[prop])) {\n            callback();\n        }    \n    }\n}\n\nexport {PropMonitor};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {CustomPropTypes} from '../prop-types/custom-prop-types';\nimport {Motion, spring} from 'react-motion';\nimport {PositionSpringSwitch} from './position-spring-switch';\nimport {PropMonitor} from './prop-monitor';\n\nclass SpringRendererApplier extends Component {\n\trender() {\n\t\tconst {onRegrab, isVisible, children, transform, contextSize, draggableCenterInBorderBoxCoordinates} = this.props;\n\t\tconst {x, y, rotate, scaleX, scaleY, skewX} = transform;\n        /* \n         * Offset x and y by half the context size, since x and y are in a coordinate system that has its origo\n         * in the middle of the dragSnapContext - not the upper left corner. It would be tempting just to set\n         * left: 50%, and top: 50% to achieve this, thus eliminating the need of know the contextSize. However,\n         * 'splitting' the positioning across left/top and transform sometimes leads to rounding errors in Chrome\n         */\n        const _x = contextSize.width/2 + x;\n        const _y = contextSize.height/2 + y;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tonTouchStart={onRegrab}\n\t\t\t\tonMouseDown={onRegrab}\n\t\t\t\tstyle={{\n                    lineHeight: 0,\n\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\ttransformOrigin: '0 0',\n\t\t\t\t\ttransform: '' +\n\t\t\t\t\t\t'translate3d(' + _x + 'px, ' + _y + 'px, 0) ' +\n\t\t\t\t\t\t'rotate(' + rotate + 'deg) ' +\n\t\t\t\t\t\t'scaleX(' + scaleX + ') ' +\n\t\t\t\t\t\t'scaleY(' + scaleY + ') ' +\n                        'skewX(' + skewX + 'deg) ' +\n                        'translate3d(-' + draggableCenterInBorderBoxCoordinates.x + 'px, -' + draggableCenterInBorderBoxCoordinates.y + 'px, 0) ' +\n\t\t\t\t\t'',\n\t\t\t\t\tWebkitTouchCallout: 'none',\n\t\t\t\t\tWebkitUserSelect: 'none',\n\t\t\t\t\tvisibility: isVisible ? 'visible' : 'hidden',\n\t\t\t\t\tuserSelect: 'none',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: 0\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSpringRendererApplier.propTypes = {\n    contextSize: CustomPropTypes.size.isRequired,\n    draggableCenterInBorderBoxCoordinates: CustomPropTypes.point.isRequired,\n\ttransform: CustomPropTypes.transform.isRequired,\n\tisVisible: PropTypes.bool.isRequired,\n\tonRegrab: PropTypes.func.isRequired,\n\tchildren: PropTypes.node.isRequired\n};\n\n//Component needed because react motion only support a single child, \n//whereas we want to pass in an array of children (original element and drag clone)\nconst Tweener = ({children, transform, displacement}) => children(transform, displacement);\n\nconst nullTransform = {\n    x: 0,\n    y: 0,\n    rotate: 0,\n    scaleX: 1,\n    scaleY: 1,\n    skewX: 0\n};\n\nclass SpringRenderer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n        this.state = {\n            flipIsActive: false,\n            springActivations: 0\n        };\n\n\t\tthis.atRest = true;\n\t}\n\n    activateSpring() {\n        const {springActivations} = this.state;\n        this.setState({springActivations: springActivations + 1});\n    }\n\n    //TODO: Consider using componentDidUpdate instead. Seems like this is called synchronously, when state in\n    //parent component (make-draggable) is set, which means onRestAfterRelease may be called earlier than\n    //one would expect!\n\tcomponentWillReceiveProps(nextProps) {\n        const propMonitor = new PropMonitor(this.props, nextProps);\n        propMonitor.ifShallowChange('transform', () => this.atRest = !nextProps.isActive);\n        propMonitor.ifBecomingTrue('isReleased', () => this.atRest ? nextProps.onRestAfterRelease() : null);\n\n        propMonitor.ifDefinedValueChange('snapTargetId', this.activateSpring.bind(this));\n        propMonitor.ifDefinedValueChange('isPositionSnapped', this.activateSpring.bind(this));\n        propMonitor.ifBecomingTrue('isSnappingBack', this.activateSpring.bind(this));\n\n        //Flip isActive flag for one frame, given react motion a chance to update to right start position before animation\n        propMonitor.ifBecomingTrue('isActive', () => requestAnimationFrame(() => this.setState({flipIsActive: false})));\n        propMonitor.ifBecomingFalse('isActive', () => this.setState({flipIsActive: true}));\n    }\n\n\trestHandler() {\n        this.atRest = true;\n\t\tif (this.props.isReleased) {\n\t\t\tthis.props.onRestAfterRelease();\n\t\t}\n\n\t\t//Important that this is called after onRestAfterRelease as the unit tests rely on it (this method is only needed for testing anyway)\n\t\tthis.props.onRest();\n\t}\n\n\trender() {\n\t\tconst {transform, children, springConfig, sticky, isReleased, isActive} = this.props;\n        const {springActivations, flipIsActive} = this.state;\n        const useSpring = isActive && !flipIsActive;\n\n\t\treturn (\n            <Motion\n                style={{\n                    x: useSpring ? spring(transform.x, springConfig) : transform.x,\n                    y: useSpring ? spring(transform.y, springConfig) : transform.y,\n                    rotate: useSpring ? spring(transform.rotate, springConfig) : transform.rotate,\n                    scaleX: useSpring ? spring(transform.scaleX, springConfig) : transform.scaleX,\n                    scaleY: useSpring ? spring(transform.scaleY, springConfig) : transform.scaleY,\n                    skewX: useSpring ? spring(transform.skewX, springConfig) : transform.skewX,\n                }}\n                onRest={this.restHandler.bind(this)}\n            >\n                {\n                    (springTransform) =>  {\n                        return (\n                            <PositionSpringSwitch\n                                isReleased={isReleased}\n                                rawTransform={transform}\n                                springTransform={springTransform}\n                                activations={springActivations}\n                                switchOffAutomatically={!isReleased}\n                                alwaysOn={!sticky}\n                                springConfig={springConfig}\n                            >\n                                {\n                                    (transformToApply, displacement) => (\n                                        <Tweener \n                                            transform={transformToApply}\n                                            displacement={displacement}\n                                        >\n                                            {children}\n                                        </Tweener>    \n                                    )\n                                }\n                            </PositionSpringSwitch>\n                        )\n                    }\n                }\n            </Motion>\n\t\t);\n\t}\n}\n\nSpringRenderer.propTypes = {\n\ttransform: CustomPropTypes.transform.isRequired,\n\tchildren: PropTypes.func.isRequired,\n\tonRestAfterRelease: PropTypes.func.isRequired,\n    onRest: PropTypes.func,\n    isActive: PropTypes.bool.isRequired,\n    isReleased: PropTypes.bool.isRequired,\n    snapTargetId: PropTypes.string,\n    isPositionSnapped: PropTypes.bool,\n    isSnappingBack: PropTypes.bool.isRequired,\n\tspringConfig: CustomPropTypes.springConfig.isRequired,\n\tsticky: PropTypes.bool.isRequired\n};\n\nSpringRenderer.defaultProps = {\n    transform: nullTransform,\n\tonRest: () => {}\n};\n\nexport {SpringRenderer, SpringRendererApplier};","class StyleInjector {\n\tconstructor(mountNode = document.getElementsByTagName('head')[0]) {\n\t\tthis.mountNode = mountNode;\n\t}\n\n\tinject(style, first = false) {\n\t\tconst node = document.createElement('style');\n\t\tnode.type = 'text/css';\n\t\tnode.innerHTML = style;\n\n\t\tif (first) {\n\t\t\tthis.mountNode.insertBefore(node, this.mountNode.firstChild);\n\t\t} else {\n\t\t\tthis.mountNode.appendChild(node);\n\t\t}\n\n\t\treturn node;\n\t}\n\n\tremove(node) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nexport {StyleInjector};","/**\n * The purpose of this utility is to ensure the correct appearance of the draggable while it is being dragged. \n * While dragging, a clone of the original component will be rendered in a 'drag layer', within the DragSnapContext. \n * Rendering in a separate part of the DOM helps overcome z-index and overflow:hidden issues that could otherwise\n * prevent a proper dragging experience. Due to the nature of CSS, rendering in a different part of the DOM, does \n * however present some challenges regarding ensuring that the visual appearance of the component is correct. \n * Specifically, the following needs to be addressed:\n *\n * Inheritance\n * The fact that some CSS properties are inherited can cause inconsistent styling. The original component, and the \n * dragged clone, do not share the same ancestors, and therefore inherits different CSS values. To address this, \n * react-drag-and-snap will extract the computed styles of the original when a drag starts, and apply these directly \n * to the drag clone. This way, the entire subtree of the drag clone will be subject to the same inherited styles \n * (all of which can be overriden) as the subtree of the original component. Note, that the property \n * -webkit-text-fill-color gets special treatment as explained below.\n * \n * Relative Sizes\n * CSS values such as width, height, padding, min-height, etc. can be specified in terms of percentages\n * in which case the applied pixel values are derived based on the size of the parent element. Since the original \n * element and the drag clone have different parents, this may result in different applied sizes. To handle this,\n * react-drag-and-snap will measure the actual sizes, paddings, etc. of the original when a drag starts, and apply \n * these to the drag clone. These CSS properties will be applied in such a way, that they overrule the drag clone's \n * own styles (even if they are inline styles) (see https://css-tricks.com/override-inline-styles-with-css/ for details).\n * \n * The -webkit-text-fill-color property\n * The -webkit-text-fill-color is a special (non-standard) CSS property that is supported by most modern browsers \n * (including non-webkit browsers such as Firefox). It is largely equivalent to the much more common `color` property, \n * in that it allows for specifying the text color (but it supports more values than `color`). The default value of \n * `-webkit-text-fill-color` is 'currentColor', meaning whatever is specified by `color`. When explicitly set, \n * `-webkit-text-fill-color` will overrule  whatever value `color` has. Furthermore, `-webkit-text-fill-color` is an \n * inherited property. These last two points present a problem, in regards to how inherited values are dealt with as \n * described earlier. If we where to extract the computed value of `-webkit-text-fill-color` from the original component \n * and apply that to the drag clone, this would 'lock' the entire subtree of the drag clone to this text color, in a \n * way that can only be overruled using `-webkit-text-fill-color`, and not the much more common `color` property. \n * Consequently, react-drag-and-snap will not copy the computed value of `-webkit-text-fill-color` to the drag clone, \n * except if it has a different value from the `color` property, which would indicate that the developer has explicitly \n * set `-webkit-text-fill-color`.\n * \n * Limitations\n * The approaches outlined above, will mitigate with the majority of styling inconsistencies between original and \n * drag clone, that would otherwise arise. There are, however, certain scenarios it does not address:\n * \n * 1. The transfering of CSS from original to drag clone happens only when dragging starts. If classes or inline \n * styles applied to the draggable (or its subtree) are changed during the drag, these will generally be applied to \n * the drag clone as well, just by virtue of being render output of the same react component. If, however, an inherited \n * style changes in one of the original element's ancestors during the drag, this will not be reflected in the drag \n * clone. Whether or not this would be desired, will probably vary anyway. And the discrepancy that this might lead\n * to (between original element and drag clone) will only be apparent when dragMode is 'clone' (in which case original \n * and clone are rendered simultanously). In general, the recommended way of dealing with this issue, is to not rely \n * on CSS inheritance for styling (which fits badly with a component based architecture anyway).\n * \n * 2. Compound selectors present a challenge similar to the inheritance problem (see above). Basically, a change in \n * the DOM, outside the draggable component, can impact the appearance of the component. Say - for example - the \n * following selector is used in CSS:\n * \n * .class-applied-to-some-parent-ouside-the-component .class-applied-to-the-component {\n *    /* Some CSS rules * /\n * }\n * \n * Assume the latter class is always applied to - say - the outer most element of the component. These rules will not \n * be applied, unless the former class is set on a ancestor in the DOM tree. If this class is set (or removed) during \n * a drag, it will change the styling of the original, but not the drag clone. Like for the inheritance problem, the \n * suggested solution is to not use these kinds of compound selectors that bind the component to the outside DOM. This \n * is very bad practice anyway.\n * \n * 3. React-drag-and-snap ensures correct sizing of the drag clone by measuring the size of the original at the moment \n * the dragging begins (this measurement will also take css scaling into account). If the size/scale is being animated \n * (imagine for example an element that has an infinite css scaling animation alternating between 0.5 and 2),\n * the applied size of the drag clone will depend on the specific moment the dragging starts. The animation would be \n * applied to the drag clone as well - but scaling would be based on a different base size (whatever the size was the \n * moment we sampled). Given that this is only an issue when the size is animating, it will typically not be\n * something developers run into. It can be addressed by wrapping the component in a fixed size container with \n * overflow:visible (as it is the outer element of the draggable component whose size will be sampled), an apply the \n * scaling animation to a child element instead.\n * \n * 4. As explained above the -webkit-text-fill-property value is not copied to the drag clone if it has the same value \n * as the `color` property, as this suggests that it hasn't been explicitly set by the developer. Technically, this \n * might not be true. The developer could have explicitly given both `color` and `-webkit-text-fill-color` the same \n * value. This is however and extreme edge case, and whathever unexpected styling it might cause, will be easy to fix \n * for the developer by explitictly setting the desired text colors wherever needed.\n */\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {createGuid} from '../../utils/guid-utils';\nimport {StyleInjector} from '../misc/style-injector';\nimport {extend} from '../../utils/object-utils';\n\nclass StyleEnforcer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tid: 'ID_' + props.createGuid()\n\t\t};\n\n\t\tthis.styleInjector = new props.StyleInjector();\n\t}\n\n\tinjectStyles(props) {\n\t\tconst {width, height, padding, borderWidth, computedStyles} = props;\n\t\t\n\t\tconst baseStyles = [];\n\t\tconst beforeStyles = [];\n\t\tconst afterStyles = [];\n\n\t\tcomputedStyles.base.forEach((value, key) => baseStyles.push(`${key}: ${value};`));\n\t\tcomputedStyles.before.forEach((value, key) => beforeStyles.push(`${key}: ${value};`));\n\t\tcomputedStyles.after.forEach((value, key) => afterStyles.push(`${key}: ${value};`));\n\n\t\tthis.lowPriorityStyles = this.styleInjector.inject(`\n\t\t\t.${this.state.id} > * {\n\t\t\t\t${baseStyles.join('')}\n\t\t\t}\n\t\t\t.${this.state.id} > *:before {\n\t\t\t\t${beforeStyles.join('')}\n\t\t\t}\n\t\t\t.${this.state.id} > *:after {\n\t\t\t\t${afterStyles.join('')}\n\t\t\t}\n\t\t`, true);\n\n\t\t//[style] is a way of overwriting even inline styles (https://css-tricks.com/override-inline-styles-with-css/)\n\t\t//Also setting transform to none. Transform is already account for (for element itself) as well\n\t\t//as ancestor in the matrix applied while dragging\n\t\tthis.highPriorityStyles = this.styleInjector.inject(`\n\t\t\t#${this.state.id} > *,\n\t\t\t#${this.state.id} > *[style] {\n\t\t\t\tdisplay: inline-block !important;\n\t\t\t\tfloat: none !important;\n\t\t\t\tposition: static !important;\n\t\t\t\tmin-width: none !important;\n\t\t\t\tmax-width: none !important;\n\t\t\t\tmin-height: none !important;\n\t\t\t\tmax-height: none !important;\n\t\t\t\twidth: ${width}px !important;\n\t\t\t\theight: ${height}px !important;\n\t\t\t\tpadding-left: ${padding.left}px !important;\n\t\t\t\tpadding-right: ${padding.right}px !important;\n\t\t\t\tpadding-top: ${padding.top}px !important;\n\t\t\t\tpadding-bottom: ${padding.bottom}px !important;\n\t\t\t\tborder-left-width: ${borderWidth.left}px !important;\n\t\t\t\tborder-right-width: ${borderWidth.right}px !important;\n\t\t\t\tborder-top-width: ${borderWidth.top}px !important;\n\t\t\t\tborder-bottom-width: ${borderWidth.bottom}px !important;\n\t\t\t\tpointer-events: none !important;\n\t\t\t\ttransform: none !important;\n\t\t\t\tmargin-left: 0 !important;\n\t\t\t\tmargin-right: 0 !important;\n\t\t\t\tmargin-top: 0 !important;\n\t\t\t\tmargin-bottom: 0 !important;\n\t\t\t}`\n\t\t);\n\t}\n\n\tremoveStyles() {\n\t\tthis.styleInjector.remove(this.lowPriorityStyles);\n\t\tthis.styleInjector.remove(this.highPriorityStyles);\n\t}\n\n\tcleanUpComputedStyles(computedStyles) {\n\t\tconst cleanUpComputedStyles = {};\n\n\t\t['base', 'before', 'after'].forEach((elementType) => {\n\t\t\tconst m = new Map(computedStyles[elementType]);\n\t\t\t//m.delete('display'); //TODO: EXPLAIN THIS AS WELL. FIGURE OUT WHEN IT IS RELEVANT!!!!!!\n\t\t\tm.delete('visibility'); //PROBABLY BECAUSE CLONE IS VISIBILTY:HIDDEN ON GRABBED (BEFORE DRAGGED)!\n\n\t\t\t//See documentation at the top of this file for info about the -webkit-text-fill-color property\n\t\t\tif (m.get('color') === m.get('-webkit-text-fill-color')) {\n\t\t\t\tm.delete('-webkit-text-fill-color');\n\t\t\t}\n\n\t\t\tcleanUpComputedStyles[elementType] = m;\n\t\t});\n\n\t\treturn cleanUpComputedStyles;\n\t}\n\n\tcomponentWillMount() {\n\t\tconst size = this.props.DOMElementHelper.getSize();\n\t\tconst padding = this.props.DOMElementHelper.getPadding();\n\t\tconst borderWidth = this.props.DOMElementHelper.getBorderWidth();\n\t\tconst computedStyles = this.cleanUpComputedStyles(this.props.DOMElementHelper.getComputedStyles());\n\n\t\tthis.injectStyles(extend(size, {padding, borderWidth}, {computedStyles}));\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.removeStyles();\n\t}\n\n\trender() {\n\t\tconst {children} = this.props;\n\t\tconst {id} = this.state;\n\n\t\treturn (\n\t\t\t<div id={id} className={id}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nStyleEnforcer.propTypes = {\n\tDOMElementHelper: PropTypes.object.isRequired,\n\tchildren: PropTypes.node.isRequired,\n\tStyleInjector: PropTypes.func.isRequired,\n\tcreateGuid: PropTypes.func.isRequired\n};\n\nStyleEnforcer.defaultProps = {\n\tcreateGuid,\n\tStyleInjector\n};\n\nexport {StyleEnforcer};","import React, {Component} from 'react';\n\nfunction isFunctionalComponent(Component) {\n\treturn !Component.prototype.render;\n}\n\n/**\n * Higher order component that returns a class based equivalent to any given functional component, or the the given\n * component in case it is already class based. Functional components need to be converted because they can't have refs,\n * which this library depends on.\n */\nfunction makeClassBasedComponent(WrappedComponent) {\n\tif (isFunctionalComponent(WrappedComponent)) {\n\t\tclass ClassBasedComponent extends Component {\n\t\t\trender() {\n\t\t\t\treturn <WrappedComponent {...this.props}/>;\n\t\t\t}\n\t\t}\n\n\t\treturn ClassBasedComponent;\n\t} else {\n\t\treturn WrappedComponent;\n\t}\n}\n\nexport {makeClassBasedComponent};","import PropTypes from 'prop-types';\nimport {getDisplayName} from '../../utils/react-utils';\n\n/**\n * asStateSubscriber and asStatePublisher are two 'sibling' higher order components, that makes it possible to have to\n * components share state. One will publish its state each time it updates, and the other one suppresses its own internal\n * state, in favor of subscribing to an external state which it will adopt.\n *\n * The components assume a common ancestor component will provide the methods subscribeToState, unsubscribeToState, and\n * publishState used to publish and subscribe to the state.\n *\n * Note that only the components own state will be synced - not the state of any subcomponents!\n */\n\n//Higher order component that 'disables' the components own state in favor of subscribing an externally enforced state\n//injected by means of a context-provided subscription method.\nfunction asStateSubscriber(WrappedComponent) {\n\tclass StateSubscriber extends WrappedComponent {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.boundStateChangeHandler = this.stateChangeHandler.bind(this);\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tif (super.componentWillMount) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tthis.context.subscribeToState(this.boundStateChangeHandler);\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tif (super.componentWillUnmount) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis.context.unsubscribeToState(this.boundStateChangeHandler);\n\t\t}\n\n\t\tstateChangeHandler(state) {\n\t\t\tWrappedComponent.prototype.setState.call(this, state);\n\t\t}\n\n\t\tsetState() {/*Disabling setState for component*/}\n\t}\n\n\tStateSubscriber.contextTypes = {\n\t\tsubscribeToState: PropTypes.func.isRequired,\n\t\tunsubscribeToState: PropTypes.func.isRequired\n\t};\n\n\tStateSubscriber.displayName = `asStateSubscriber(${getDisplayName(WrappedComponent)})`;\n\n\treturn StateSubscriber;\n}\n\n//Higher order component that ensures the components internal state is published by means of a context provided publishing\n//method\nfunction asStatePublisher(WrappedComponent) {\n\tclass StatePublisher extends WrappedComponent {\n\t\tcomponentWillUpdate(nextProps, nextState) {\n\t\t\tif (super.componentWillUpdate) {\n\t\t\t\tsuper.componentWillUpdate(nextProps, nextState);\n\t\t\t}\n\n\t\t\tthis.context.publishState(nextState);\n\t\t}\n\t}\n\n\tStatePublisher.contextTypes = {\n\t\tpublishState: PropTypes.func.isRequired\n\t};\n\n\tStatePublisher.displayName = `asStatePublisher(${getDisplayName(WrappedComponent)})`;\n\n\treturn StatePublisher;\n}\n\nexport {asStateSubscriber, asStatePublisher};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = process.env.NODE_ENV;\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","import invariant from 'invariant';\nimport {extend} from '../utils/object-utils';\nimport {isNumber, isBoolean} from '../utils/type-utils';\n\nconst defaultConfig = {\n    stiffness: 390,\n    damping: 35,\n    sticky: true,\n    mode: 'default'\n};\nconst normalizeDraggableConfig = (customConfig = {}) => {\n\tconst config = extend(defaultConfig, customConfig);\n\n\tinvariant(isNumber(config.stiffness), \n\t\t`Invalid property 'stiffness' in draggable config. Must be a number. Was: ${config.stiffness}`\n\t);\n\t\n\tinvariant(isNumber(config.damping), \n\t\t`Invalid property 'damping' in draggable config. Must be a number. Was: ${config.damping}`\n    );\n    \n    invariant(isBoolean(config.sticky), \n        `Invalid property 'sticky' in draggable config. Must be a boolean. Was: ${config.sticky}`\n    );\n\n    invariant(['default', 'clone', 'move'].indexOf(config.mode) > -1, \n        `Invalid property 'mode' in draggable config. Must be either 'default', 'clone', or 'move'. Was: ${config.move}`\n    );\n\n\treturn config;\n};\n\n export {normalizeDraggableConfig};","const DRAG_STATES = {\n    INACTIVE: 'inactive',\n    GRABBED: 'grabbed',\n    DRAGGED: 'dragged',\n    RELEASED: 'released'\n};\n\nexport {DRAG_STATES};","const noProps = () => {};\n\nconst staticAndLowFrequencyProps = (draggable) => ({\n    dragState: draggable.dragState,\n});\n\nconst allProps = (draggable) => draggable;\n\nconst draggableCollectors = {\n    noProps,\n    staticAndLowFrequencyProps,\n    allProps\n};\n\nexport {draggableCollectors};","import React, {Component} from 'react';\nimport {createPortal, findDOMNode} from 'react-dom';\nimport PropTypes from 'prop-types';\nimport {applyToPoint} from 'transformation-matrix';\nimport {createGuid} from './utils/guid-utils';\nimport {getTransformationMatrix, qrDecompose, overrideTranslation} from './utils/matrix-utils';\nimport {extend} from './utils/object-utils';\nimport {getDisplayName} from './utils/react-utils';\nimport {subtractPoints, getOrigo} from './utils/point-utils';\nimport {PointerTracker} from './helpers/misc/pointer-tracker';\nimport {DOMElementHelper} from './helpers/misc/dom-element-helper';\nimport {SpringRenderer, SpringRendererApplier} from './renderer/spring-renderer';\nimport {StyleEnforcer} from './helpers/components/style-enforcer';\nimport {makeClassBasedComponent} from './helpers/higher-order-components/make-class-based-component';\nimport {asStatePublisher, asStateSubscriber} from './helpers/higher-order-components/state-sharing';\nimport {getDragModeAttribute} from './drag-snap-logic/drag-modes';\nimport {normalizeDraggableConfig} from './drag-snap-logic/normalize-draggable-config';\nimport {DRAG_STATES} from './drag-snap-logic/drag-states';\nimport {draggableCollectors} from './defaults/default-draggable-collectors';\n\nconst {INACTIVE, GRABBED, DRAGGED, RELEASED} = DRAG_STATES;\n\nconst initialState = {\n    dragState: INACTIVE,     //Either INACTIVE, GRABBED, DRAGGED, or RELEASED\n    isSnapping: false,       //If this draggable is currently snapping to a snapTarget\n    isPositionSnapped: null, //If it's position specificially is currently controlled by a snapTarget. Initially unknown\n    isSnappingBack: false,   //If it is currently snapping back to its initial position (after a drop)\n    snapTargetId: null,      //The id of the snapTarget it is currently snapping to. Null when not snapping\n    customSnapProps: {},     //The customSnapProps as defined by the snapTarget currently snapped to\n    flipGrabbedFlag: false,  //Used to postpone dragState sent to wrapped component one frame, when dragged\n    velocity: null,          //The velocity (pixels/ms) by which the draggable is currently being dragged\n    baseMatrix: null,        //The draggable's position in window coordinate system prior to dragging\n    matrix: null,            //The draggable's current position in window coordinate system\n    hasEscaped: false,       //If the draggable has escaped its first snapTarget in a new drag\n    firstSnapTargetId: null, //Id of the first snapTarget to which draggable snapped in current drag session\n    touchOffset: null        //Local coordinates of where the draggable has been grabbed\n};\n\nfunction configure(customConfig = {}, collect = draggableCollectors.allProps) {\n    const config = normalizeDraggableConfig(customConfig);\n    const dragModeAttribute = getDragModeAttribute(config.mode);\n\n    return function makeDraggable(WrappedComponent, helpers = {DOMElementHelper, PointerTracker}) {\n        class Draggable extends Component {\n            constructor(props) {\n                super(props);\n                this.state = initialState;\n                this.id = createGuid();\n                this.DOMElementHelper = new helpers.DOMElementHelper();\n                this.pointerTracker = new helpers.PointerTracker(\n                    this.dragStartHandler.bind(this),\n                    this.dragMoveHandler.bind(this),\n                    this.dragEndHandler.bind(this)\n                );\n\n                //Convert to class based, if functional. Functional components can't have refs since. We need refs\n                const ClassBasedWrappedComponent = makeClassBasedComponent(WrappedComponent);\n                this.statePublishingWrappedComponent = asStatePublisher(ClassBasedWrappedComponent);\n                this.stateSubscribingWrappedComponent = asStateSubscriber(ClassBasedWrappedComponent);\n                this.stateChangeHandler = () => {};\n                this.boundStartPointerTracker = this.startTracker.bind(this);\n            }\n\n            getChildContext() {\n                return {\n                    publishState: state => this.stateChangeHandler(state),\n                    subscribeToState: handler => (this.stateChangeHandler = handler),\n                    unsubscribeToState: () => (this.stateChangeHandler = () => {})\n                };\n            }\n\n            componentDidMount() {\n                this.DOMElement = findDOMNode(this.el);\n                this.DOMElement.addEventListener('mousedown', this.boundStartPointerTracker, {passive: true});\n                this.DOMElement.addEventListener('touchstart', this.boundStartPointerTracker, {passive: true});\n            }\n\n            componentWillUnmount() {\n                this.DOMElement.removeEventListener('mousedown', this.boundStartPointerTracker);\n                this.DOMElement.removeEventListener('touchstart', this.boundStartPointerTracker);\n                this.pointerTracker.destroy();\n\n                if (this.state.dragState !== INACTIVE) {\n                    if (this.state.dragState !== RELEASED) {\n                        this.context.onDragStateUpdate('ending');\n                    }\n\n                    this.context.relayDraggableRemovalToTargets(this.id);\n                    this.context.onDragStateUpdate('ended');\n                }\n            }\n\n            componentWillUpdate(nextProps, {dragState: nextDragState}) {\n                const {dragState} = this.state;\n\n                if (dragState !== DRAGGED && nextDragState === DRAGGED) {\n                    this.DOMElement.setAttribute(dragModeAttribute, true);\n                }\n\n                if (dragState !== INACTIVE && nextDragState === INACTIVE) {\n                    this.DOMElement.removeAttribute(dragModeAttribute);\n                }\n            }\n\n            componentDidUpdate() {\n                if (this.state.flipGrabbedFlag) {\n                    //Postpone till after next DOM update after clone is mounted (to support css transition \n                    //triggered by change of the grabbed property)\n                    requestAnimationFrame(() => this.setState({flipGrabbedFlag: false}));\n                }\n            }\n\n            startTracker(e) {\n                if (this.state.dragState === INACTIVE) {\n                    this.pointerTracker.track(e);\n                }\n            }\n\n            getSnapping(dragState, cursorPosition, velocity, state = this.state) {\n                const elementDragPosition = subtractPoints(cursorPosition, state.touchOffset);\n                const draggedMatrix = overrideTranslation(state.baseMatrix, elementDragPosition);\n\n                return this.context.snap(\n                    state.firstSnapTargetId,\n                    state.hasEscaped,\n                    dragState,\n                    this.getDraggableDescriptor(dragState, draggedMatrix, cursorPosition, velocity, state.snapTargetId)\n                );\n            }\n\n            getDraggableDescriptor(dragState, matrix, cursorPosition, velocity, snapTargetId) {\n                const {scaleX, scaleY} = qrDecompose(matrix);\n                \n                return {\n                    id: this.id,\n                    dragData: this.props.dragData,\n                    DOMElementHelper: this.DOMElementHelper,\n                    scaledSize: {\n                        width: this.DOMElementHelper.getSize().width * scaleX,\n                        height: this.DOMElementHelper.getSize().height * scaleY\n                    },\n                    dragState,\n                    velocity,\n                    cursorPosition,\n                    matrix,\n                    snapTargetId\n                };\n            }\n\n            setInactive() {\n                this.setState({dragState: INACTIVE, isSnappingBack: false, customSnapProps: {}, velocity: getOrigo()});  \n                //this.setState(initialState);    \n            }\n\n            restAfterReleaseHandler() {\n                this.setInactive();\n                const {snapTargetId, matrix} = this.state;\n\n                if (snapTargetId) {\n                    const draggableDescriptor = this.getDraggableDescriptor(INACTIVE, matrix);\n                    this.context.relayDropEvent(snapTargetId, 'complete', draggableDescriptor);\n                }\n\n                this.context.relayDraggableRemovalToTargets(this.id);\n                this.context.onDragStateUpdate('ended');\n            }\n\n            dragEndHandler({position, velocity}) {\n                if (this.state.dragState === GRABBED) {\n                    this.setInactive(); \n                    this.context.onDragStateUpdate('cancel');\n                    return;\n                }\n\n                const dragState = RELEASED;\n                const {baseMatrix, matrix: priorMatrix} = this.state;\n                const snapping = this.getSnapping(dragState, position, velocity);\n                let matrix = snapping.matrix;\n                let isSnappingBack = false;\n\n                if (snapping.isSnapping) {\n                    const draggableDescriptor = this.getDraggableDescriptor(dragState, priorMatrix, position, velocity, snapping.snapTargetId);\n                    this.context.relayDropEvent(snapping.snapTargetId, 'start', draggableDescriptor, snapping.matrix);\n                } else if (this.props.snapBack) {\n                    matrix = baseMatrix;\n                    isSnappingBack = true;\n                }\n\n                this.setState(extend(snapping, {matrix, velocity, isSnappingBack, dragState}));\n\n                this.context.relayDraggableUpdateToTargets(\n                    this.getDraggableDescriptor(dragState, matrix, position, velocity, snapping.snapTargetId)\n                );\n\n                this.context.onDragStateUpdate('ending');\n            }\n\n            dragMoveHandler({position, velocity}) {\n                if (this.state.dragState === GRABBED) {\n                    this.context.onDragStateUpdate('start');\n                }\n\n                const dragState = DRAGGED;\n                const snapping = this.getSnapping(dragState, position, velocity);\n\n                this.setState(extend({dragState,velocity}, snapping));\n\n                this.context.relayDraggableUpdateToTargets(\n                    this.getDraggableDescriptor(dragState, snapping.matrix, position, velocity, snapping.snapTargetId)\n                );\n            }\n\n            getInitialDragState(globalTouchOffset) {\n                const dragState = GRABBED;\n                const baseMatrix = getTransformationMatrix(this.DOMElement);\n                //TODO: CONSIDER IF ORIGO MIGHT CHANGE DEPENDING ON BOX-SIZING VS CONTENT-SIZING\n                const touchOffset = subtractPoints(globalTouchOffset, applyToPoint(baseMatrix, getOrigo()));\n\n                return {\n                    dragState,\n                    baseMatrix,\n                    touchOffset,\n                    hasEscaped: false,\n                    firstSnapTargetId: null,\n                    flipGrabbedFlag: true,\n                    isSnappingBack: false,\n                    isPositionSnapped: null //Unclear if this is true or false at this point. Initialize to null\n                };\n            }\n\n            startDrag(position, velocity) {\n                this.context.onDragStateUpdate('grab');\n                this.DOMElementHelper.updateElement(this.DOMElement);\n                const initialState = this.getInitialDragState(position);\n                const snapping = this.getSnapping(initialState.dragState, position, velocity, initialState);\n\n                this.setState(extend(initialState, snapping, {velocity}));\n\n                this.context.relayDraggableUpdateToTargets(\n                    this.getDraggableDescriptor(\n                        initialState.dragState,\n                        snapping.matrix,\n                        position,\n                        velocity,\n                        snapping.snapTargetId\n                    )\n                );\n            }\n\n            resumeDrag(position, velocity) {\n                const dragState = DRAGGED;\n                const {matrix: priorMatrix} = this.state;\n\n                const newState = extend(this.state, {\n                    dragState,\n                    isSnappingBack: false,\n                    touchOffset: subtractPoints(position, applyToPoint(priorMatrix, getOrigo()))\n                });\n\n                const snapping = this.getSnapping(dragState, position, velocity, newState);\n\n                this.setState(extend(newState, snapping, {velocity}));\n                \n                this.context.onDragStateUpdate('resume');\n                this.context.relayDraggableUpdateToTargets(\n                    this.getDraggableDescriptor(\n                        dragState, \n                        snapping.matrix, \n                        position,\n                        velocity,\n                        snapping.snapTargetId\n                    )\n                );\n\n                if (snapping.snapTargetId) {\n                    this.context.relayDropEvent(snapping.snapTargetId, 'cancel', this.getDraggableDescriptor(dragState, snapping.matrix));\n                }   \n            }\n\n            dragStartHandler({position, velocity}) {\n                if (this.props.draggingDisabled) {\n                    return;\n                }\n\n                if (this.state.dragState === INACTIVE) {\n                    this.startDrag(position, velocity);\n                } else {\n                    this.resumeDrag(position, velocity);\n                }\n            }\n\n            render() {\n                const {\n                    dragState,\n                    velocity,\n                    isSnapping,\n                    snapTargetId,\n                    isPositionSnapped,\n                    isSnappingBack,\n                    customSnapProps,\n                    flipGrabbedFlag,\n                    matrix\n                } = this.state;\n                const snapProps = {isSnapping, isSnappingBack, customSnapProps};\n                const applyState = (dragState === GRABBED && flipGrabbedFlag) ? INACTIVE : dragState;\n\n                //Matrix is in window coordinates, but draggables will be rendered in the context, so must be transformed\n                const contextTransform = matrix ? qrDecompose(this.context.windowToContext(matrix)) : undefined;\n                \n                return (\n                    <SpringRenderer\n                        transform={contextTransform}\n                        snapTargetId={snapTargetId}\n                        isPositionSnapped={isPositionSnapped}\n                        isSnappingBack={isSnappingBack}\n                        onRestAfterRelease={this.restAfterReleaseHandler.bind(this)}\n                        isActive={dragState !== INACTIVE}\n                        isReleased={dragState === RELEASED}\n                        springConfig={{\n                            stiffness: config.stiffness,\n                            damping: config.damping\n                        }}\n                        sticky={config.sticky}\n                    >\n                        {(transform, dragDisplacement) => {\n                            const dragProps = collect({\n                                dragState: applyState,\n                                dragVelocity: velocity, //TODO: CAN IT BE DETERMINED BASED ON THE DRAG DISPLACEMENT??\n                                dragDisplacement\n                            });\n\n                            return [\n                                <this.statePublishingWrappedComponent\n                                    ref={el => (this.el = el)}\n                                    {...this.props}\n                                    {...snapProps}\n                                    {...dragProps}\n                                    isDragClone={false}\n                                    key=\"static-version\"\n                                />,\n                                dragState !== INACTIVE ? createPortal(\n                                    <SpringRendererApplier\n                                        draggableCenterInBorderBoxCoordinates={this.DOMElementHelper.getCenterInBorderBoxCoordinates()}\n                                        contextSize={this.context.getSize()}\n                                        transform={transform}\n                                        onRegrab={(e) => this.pointerTracker.track(e)}\n                                        isVisible={[DRAGGED, RELEASED].includes(dragState)}\n                                        key=\"dragged-version\"\n                                    >\n                                        <StyleEnforcer DOMElementHelper={this.DOMElementHelper}>\n                                            <this.stateSubscribingWrappedComponent\n                                                {...this.props}\n                                                {...snapProps}\n                                                {...dragProps}\n                                                isDragClone={true}\n                                            />\n                                        </StyleEnforcer>\n                                    </SpringRendererApplier>, \n                                    this.context.getDragContainerDOMElement()\n                                ) : null\n                            ];\n                        }}\n                    </SpringRenderer>\n                );\n            }\n        }\n\n        Draggable.displayName = `makeDraggable(${getDisplayName(WrappedComponent)})`;\n\n        Draggable.propTypes = {\n            draggingDisabled: PropTypes.bool,\n            dragData: PropTypes.any,\n            snapBack: PropTypes.bool,\n        };\n\n        Draggable.defaultProps = {\n            draggingDisabled: false,\n            snapBack: true,\n        };\n\n        Draggable.childContextTypes = {\n            publishState: PropTypes.func,\n            subscribeToState: PropTypes.func,\n            unsubscribeToState: PropTypes.func\n        };\n\n        Draggable.contextTypes = {\n            snap: PropTypes.func.isRequired,\n            windowToContext: PropTypes.func.isRequired,\n            contextToWindow: PropTypes.func.isRequired,\n            onDragStateUpdate: PropTypes.func.isRequired,\n            getSize: PropTypes.func.isRequired,\n            getDragContainerDOMElement: PropTypes.func.isRequired,\n            relayDropEvent: PropTypes.func.isRequired,\n            relayDraggableUpdateToTargets: PropTypes.func.isRequired,\n            relayDraggableRemovalToTargets: PropTypes.func.isRequired\n        };\n\n        return Draggable;\n    };\n}\n\nexport default configure;\n","import {scale, translate, rotateDEG} from 'transformation-matrix';\nimport {transformMultiple, skew, qrDecompose, translationOnly} from '../utils/matrix-utils';\n\n/*\n* Given the snapTargetMatrix (the matrix that describes the snapTarget's position in the window coordinate system) and a snapTransform that\n* describes a draggable's target position in the coordinate system of the snapTarget, this method returns a snapMatrix that describes the\n* draggable's target position in the window coordinate system.\n*\n* The user defined snapTransform's properties are to be added to the equivalent properties from the the snapTargetMatrix. Consequently, these\n* properties are extracted from the snapTargetMartrix, and addition is done indenpendently for each property. These are then converted back to\n* matrix form, and multiplied together to produce the final snapMatrix\n*/\nconst createSnapMatrix = function (snapTargetMatrix, snapTransform, snapTargetDOMElementHelper, draggableDOMElementHelper) {\n\t//Extract properties from snapTarget's matrix so we can add then (independently) with the equivalent values from the snapTransform.\n\t//After this addition has been done, we will convert back to matrix form\n    const {skewX, rotate, scaleX, scaleY} = qrDecompose(snapTargetMatrix);\n\n\tconst snapTargetScaledSize = snapTargetDOMElementHelper.getScaledSize(scaleX, scaleY);\n\tconst currentScaleX = (draggableDOMElementHelper.getSize().width) / (snapTargetScaledSize.width);\n\tconst currentScaleY = (draggableDOMElementHelper.getSize().height) / (snapTargetScaledSize.height);\n\n\tconst scalingMatrix = scale(\n\t\t(snapTransform.scaleX / currentScaleX),\n\t\t(snapTransform.scaleY / currentScaleY)\n\t);\n\n\tconst rotationMatrix = rotateDEG(snapTransform.rotate + rotate);\n\n\t//The snapTransform's scaling will impact that translation and skew (but leave rotation unaffected)\n\tconst snapTransformScalingMatrix = scale(snapTransform.scaleX, snapTransform.scaleY);\n\n\tconst skewMatrix = skew(skewX + snapTransform.skewX, snapTransform.skewY);\n\t//Create a translation matrix taking the snap transform's scaling (in x and y directions) into account.\n    const localTranslationMatrix = translate((snapTransform.x)/scaleX, (snapTransform.y)/scaleY);\n    //Extract the translation part and create a translation only matrix\n\tconst translationMatrix = translationOnly(\n        transformMultiple(snapTargetMatrix, localTranslationMatrix, snapTransformScalingMatrix)\n    );\n\n    //Merge all matrices together into one and return\n\treturn transformMultiple(translationMatrix, rotationMatrix, scalingMatrix, skewMatrix);\n};\n\nexport {createSnapMatrix};","import invariant from 'invariant';\nimport {isNullOrUndefined, isNumber} from '../utils/type-utils';\n\nconst isPercentage = (value) => typeof value === 'string' && value.slice(-1) === '%';\n\nfunction getFirstDefinedValue(...values) {\n    let firstDefinedValue;\n    \n    values.some((value) => {\n        if(!isNullOrUndefined(value)) {\n            firstDefinedValue = value;\n            return true;\n\t\t}\n\t\t\n\t\treturn false;\n    });\n\n    return firstDefinedValue;\n}\n\nconst TRANSFORM_PROPS = ['x', 'y', 'rotate', 'scaleX', 'scaleY', 'skewX', 'skewY'];\n\n/*\n* Accepts a (partial or complete) transform, and returns an equivalent, completed transform in a normalized format. \n* If the given transform was incomplete, default values will be use for the omitted properties. \n*\n* The normalized transform format is an object with the following properties:\n*\n* - x: number             (default: 0)\n* - y: number             (default: 0)\n* - scaleX: number        (default: ratio betweens draggable's width and snapTarget's width)\n* - scaleY: number        (default: ratio betweens draggable's height and snapTarget's height)\n* - rotate: number        (default: 0)\n* - skewX: number         (default: 0)\n* - skewY: number         (default: 0)\n* - customSnapProps: any  (default: {})\n*\n* Valid input:\n* The input transform can have any number of the properties listed below specified. In addition note that:\n* - translateX can be used as an alias for x and translateY can be used as an alias for y\n* - x and y (and translateX and translateY) can be percentages encoded as string, e.g. '50%'. The percentage is based on the width/height of the snapTarget\n* - scale can be used to set scaleX and scaleY to the same value in one go\n*/\nfunction normalizeTransform(inputTransform, draggableScaledSize, snapTargetScaledSize) {\n    const normalizedTransform = {};\n    normalizedTransform.x =  getFirstDefinedValue(inputTransform.x, inputTransform.translateX, 0);\n    normalizedTransform.y = getFirstDefinedValue(inputTransform.y, inputTransform.translateY, 0);\n    normalizedTransform.rotate = getFirstDefinedValue(inputTransform.rotate, 0);\n    normalizedTransform.scaleX = getFirstDefinedValue(inputTransform.scaleX, inputTransform.scale, (draggableScaledSize.width/snapTargetScaledSize.width));\n    normalizedTransform.scaleY = getFirstDefinedValue(inputTransform.scaleY, inputTransform.scale, (draggableScaledSize.height/snapTargetScaledSize.height));\n    normalizedTransform.skewX = getFirstDefinedValue(inputTransform.skewX, 0);\n    normalizedTransform.skewY = getFirstDefinedValue(inputTransform.skewY, 0);\n    normalizedTransform.customSnapProps = getFirstDefinedValue(inputTransform.customSnapProps, {});\n\n    normalizedTransform.x = isPercentage(normalizedTransform.x) \n        ? parseFloat(normalizedTransform.x) / 100 * snapTargetScaledSize.width \n        : normalizedTransform.x;\n\n    normalizedTransform.y = isPercentage(normalizedTransform.y) \n        ? parseFloat(normalizedTransform.y) / 100 * snapTargetScaledSize.height\n        : normalizedTransform.y;\n\n    TRANSFORM_PROPS.forEach((p) => {\n        invariant(isNumber(normalizedTransform[p]), `Invalid property ${p} in transform ${inputTransform}: ${inputTransform[p]}`);\n    });\n\n    return normalizedTransform;\n}\n\nexport {normalizeTransform};","import {isArray} from './type-utils';\n\nconst toArray = (val) => isArray(val) ? val : [val];\n\nexport {toArray};","import {distance} from '../utils/point-utils';\nimport {toArray} from '../utils/array-utils';\n\nconst isPercentageString = function (value) {\n\treturn (typeof value === 'string' && value.slice(-1) === '%');\n};\n\nconst parsePercentageString = function (value) {\n\tconst percentage = parseFloat(value);\n\n\tif (isNaN(percentage)) {\n\t\tthrow new Error('invalid-percentage');\n\t}\n\n\treturn percentage;\n};\n\nconst always = () => true;\nconst never = () => false;\n\nconst isCenterOverTarget = ({transform}, {width, height}) => {\n\tconst {x,y} = transform;\n\treturn x > -width/2 && x < width/2 && y > -height/2 && y < height/2;\n};\n\nconst isCenterWithinRadius = (radius, hysteresisRadius) => {\n\treturn ({id, transform, isSnappingToThisTarget}, {width, height}, {draggedItems}) => {\n\t\tconst {x, y} = transform;\n\t\tlet _radius = (isSnappingToThisTarget && hysteresisRadius) ? hysteresisRadius : radius;\n\n\t\tif (isPercentageString(_radius)) {\n\t\t\tconst diagonal = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n\t\t\tconst percentage = parsePercentageString(_radius);\n\n\t\t\t_radius = ((diagonal/2) / 100) * percentage;\n\t\t}\n\n\t\treturn distance({x, y}) < _radius;\n\t}\n};\n\nconst isNoOtherDraggableSnapping = ({id}, _, {draggedItems}) => {\n\treturn !draggedItems\n\t\t\t.filter((d) => d.id !== id)\n\t\t\t.some((d) => d.isSnappingToThisTarget);\n};\n\n/*\n * Usually a target doesn't need to worry about whether or not the draggable is snapping to another target.\n * It is only possible to for draggables to snap to one target at a time, and if multiple targets want the same \n * draggable to snap simultaneously, the conflict is resolved based on the targets' snap priorities. The following snap\n * criteria function allows a target to be 'polite', so that it doesn't take over a draggable that is already \n * (was in previous 'frame') snapping to another target with a lower snap priority.\n */\nconst draggableIsNotSnappingToOtherTarget = ({isSnappingToOtherTarget}) => {\n\treturn !isSnappingToOtherTarget;\n};\n\nconst isDragDataProp = (prop, value) => {\n\treturn ({dragData}) => toArray(value).indexOf(dragData[prop]) > -1;\n};\n\nconst Criteria = {\n\talways,\n\tnever,\n\tisCenterOverTarget,\n\tisCenterWithinRadius,\n\tisDragDataProp,\n\tisNoOtherDraggableSnapping,\n\tdraggableIsNotSnappingToOtherTarget\n}\n\nexport default Criteria;\n","import {distance} from '../utils/point-utils';\nimport {extend} from '../utils/object-utils';\nimport {isFunction} from '../utils/type-utils';\n\nconst noSnapping = ({transform}) => transform;\n\nconst snapAllButScale = ({transform}) => (\n\t{\n\t\tx: 0,\n\t\ty: 0,\n\t\tscaleX: transform.scaleX,\n\t\tscaleY: transform.scaleY,\n\t\tskewX: 0,\n\t\tskewY: 0,\n\t\trotate: 0\n\t}\n);\n\nconst snapAll = () => ({scale: 1});\nconst snapPosition = ({transform}) => extend(transform, {x: 0, y: 0});\nconst snapRotation = ({transform}) => extend(transform, {rotate: 0});\nconst snapScale = ({transform}) => extend(transform, {scale: 1});\nconst snapPositionAndRotation = ({transform}) => extend(transform, {x: 0, y: 0, rotate: 0});\nconst snapPositionAndScale = ({transform}) => extend(transform, {x: 0, y: 0, scale: 1});\nconst snapScaleAndRotation = ({transform}) => extend(transform, {scale: 1, rotate: 0});\n\nconst snapProportionally = (denominator, innerRadius = 0) => {\n\treturn (draggable) => {\n\t\tconst {transform} = draggable;\n\t\tconst {x, y, scaleX, scaleY, skewX, skewY, rotate} = transform;\n\t\tconst dist = distance({x, y});\n\n\t\tif (dist < innerRadius) {\n\t\t\treturn snapAll(draggable);\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tx: x * dist/denominator,\n\t\t\t\ty: y * dist/denominator,\n\t\t\t\tscaleX: scaleX + (1 - scaleX) * (1 - dist/denominator),\n\t\t\t\tscaleY: scaleY + (1 - scaleY) * (1 - dist/denominator),\n\t\t\t\tskewX: skewX * dist/denominator,\n\t\t\t\tskewY: skewY * dist/denominator,\n\t\t\t\trotate: rotate * dist/denominator\n\t\t\t};\n\t\t}\n\t};\n};\n\nconst snapRotationProportionally = (denominator, innerRadius = 0) => {\n\treturn (draggable) => {\n\t\tconst {transform} = draggable;\n\t\tconst dist = distance(transform);\n\n\t\treturn dist < innerRadius  ?\n\t\t\tsnapAllButScale(draggable) :\n\t\t\textend(transform, {rotate: transform.rotate * dist/denominator})\n\t};\n};\n\nconst snapScaleProportionally = (denominator, innerRadius = 0) => {\n\treturn (draggable) => {\n\t\tconst {transform} = draggable;\n\t\tconst {x, y, scaleX, scaleY} = transform;\n\t\tconst dist = distance({x, y});\n\n\t\treturn dist < innerRadius ?\n\t\t\tsnapAll(draggable) :\n\t\t\textend(\n\t\t\t\tdraggable.transform,\n\t\t\t\t{\n\t\t\t\t\tscaleX: scaleX + (1 - scaleX) * (1 - dist/denominator),\n\t\t\t\t\tscaleY: scaleY + (1 - scaleY) * (1 - dist/denominator)\n\t\t\t\t}\n\t\t\t);\n\t};\n};\n\nconst snapScaleAndRotationProportionally = (denominator, innerRadius = 0) => {\n\treturn (draggable) => {\n\t\tconst {transform} = draggable;\n\t\tconst {x, y, scaleX, scaleY, rotate} = transform;\n\t\tconst dist = distance({x, y});\n\n\t\treturn dist < innerRadius ?\n\t\t\tsnapAll(draggable) :\n\t\t\textend(\n\t\t\t\tdraggable.transform,\n\t\t\t\t{\n\t\t\t\t\tscaleX: scaleX + (1 - scaleX) * (1 - dist/denominator),\n\t\t\t\t\tscaleY: scaleY + (1 - scaleY) * (1 - dist/denominator),\n\t\t\t\t\trotate: rotate * dist/denominator\n\t\t\t\t}\n\t\t\t);\n\t}\n};\n\n\nconst withCustomSnapProps = (_snapTransform, _customSnapProps) => {\n\treturn (...args) => {\n\t\tconst snapTransform = isFunction(_snapTransform) ? _snapTransform(...args) : _snapTransform;\n\t\tconst customSnapProps = isFunction(_customSnapProps) ? _customSnapProps(...args) : _customSnapProps;\n\t\treturn extend(snapTransform, {customSnapProps})\n\t};\n};\n\nconst SnapTransformers = {\n\tsnapAllButScale,\n\tsnapAll,\n\tnoSnapping,\n\tsnapPosition,\n\tsnapRotation,\n\tsnapScale,\n\tsnapPositionAndRotation,\n\tsnapPositionAndScale,\n\tsnapScaleAndRotation,\n\tsnapProportionally,\n\tsnapRotationProportionally,\n\tsnapScaleProportionally,\n\tsnapScaleAndRotationProportionally,\n\twithCustomSnapProps\n};\n\nexport default SnapTransformers;","import invariant from 'invariant';\nimport Criteria from '../defaults/default-snap-criteria';\nimport SnapTransformers from '../defaults/default-snap-transformers';\nimport {extend} from '../utils/object-utils';\nimport {isFunction, isObject, isArray} from '../utils/type-utils';\n\nconst defaultConfig = {\n\tsnapCriteria: Criteria.isCenterWithinRadius('150%'),\n\tsnapTransform: SnapTransformers.snapAllButScale\n};\n\nconst normalizeSnapTargetConfig = (customConfig = {}) => {\n\tconst config = extend(defaultConfig, customConfig);\n\tconfig.dragSnapCriteria = config.dragSnapCriteria || config.snapCriteria;\n\tconfig.releaseSnapCriteria = config.releaseSnapCriteria || config.snapCriteria;\n\tconfig.dragSnapTransform = config.dragSnapTransform || config.snapTransform;\n\tconfig.releaseSnapTransform = config.releaseSnapTransform || config.snapTransform;\n\n\tinvariant(isFunction(config.dragSnapCriteria) || (isArray(config.dragSnapCriteria) && config.dragSnapCriteria.every(isFunction)), \n\t\t`Invalid property 'dragSnapCriteria' in snapTarget config. Must be a function or an array of functions. Was: ${config.dragSnapCriteria}`\n\t);\n\tinvariant(isFunction(config.releaseSnapCriteria) || (isArray(config.releaseSnapCriteria) && config.releaseSnapCriteria.every(isFunction)),\n\t\t`Invalid property 'releaseSnapCriteria' in snapTarget config. Must be a function or an array of functions. Was: ${config.releaseSnapCriteria}`\n\t);\n  \n\tinvariant(isFunction(config.dragSnapTransform) || isObject(config.dragSnapTransform), \n\t\t`Invalid property 'dragSnapTransform' in snapTarget config. Must be a function or an object. Was: ${config.dragSnapTransform}`\n\t);\n\n\tinvariant(isFunction(config.releaseSnapTransform) || isObject(config.releaseSnapTransform), \n\t\t`Invalid property 'releaseSnapTransform' in snapTarget config. Must be a function or an object. Was: ${config.releaseSnapTransform}`\n\t);\n\n\treturn config;\n};\n\n export {normalizeSnapTargetConfig};","import {extend} from '../utils/object-utils';\nconst noProps = () => {};\n\nconst extractStaticProps = (draggableDescriptor) => ({\n    id: draggableDescriptor.id,\n    dragData: draggableDescriptor.dragData\n});\n\nconst extractLowFrequencyProps = (draggableDescriptor) => ({\n    dragState: draggableDescriptor.dragState,\n    isSnappingToThisTarget: draggableDescriptor.isSnappingToThisTarget,\n    isSnappingToOtherTarget: draggableDescriptor.isSnappingToOtherTarget   \n});\n\nconst staticProps = (draggableDescriptors) => draggableDescriptors.map(extractStaticProps);\n\nconst staticAndLowFrequencyProps = (draggableDescriptors) => draggableDescriptors.map((draggableDescriptor) => extend(\n    extractStaticProps(draggableDescriptor),\n    extractLowFrequencyProps(draggableDescriptor)\n));\n\nconst allProps = (draggableDescriptors) => draggableDescriptors;\n\nconst snapTargetCollectors = {\n    noProps,\n    staticProps,\n    staticAndLowFrequencyProps,\n    allProps\n};\n\nexport {snapTargetCollectors};","const lowestPriority = Number.MAX_VALUE;\nconst highestPriority = 1;\nconst defaultPriority = 10;\nconst distanceBased = ({distance}) => Math.max(1, distance);\nconst distanceBasedWithOffset = (offset) => (...args) => offset + distanceBased(...args);\n\nexport {\n    lowestPriority,\n    highestPriority,\n    defaultPriority,\n    distanceBased,\n    distanceBasedWithOffset\n};\n","const byId = ({id: a}, {id: b}) => a > b ? -1 : 1;\n\nexport {byId};","import React, {Component} from 'react';\nimport {findDOMNode} from 'react-dom';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport {identity} from 'transformation-matrix';\nimport {CustomPropTypes} from './prop-types/custom-prop-types';\nimport {\n    getTransformationMatrix,\n    extractTranslation,\n    deltaMatrix,\n    transformMultiple,\n    transformRotation,\n    transformScale,\n    transformSkew,\n    transformVelocity,\n    transformPosition,\n    qrDecompose\n} from './utils/matrix-utils';\nimport {DOMElementHelper} from './helpers/misc/dom-element-helper';\nimport {createSnapMatrix} from './drag-snap-logic/create-snapping-matrix';\nimport {normalizeTransform} from './drag-snap-logic/normalize-transform';\nimport {makeClassBasedComponent} from './helpers/higher-order-components/make-class-based-component';\nimport {normalizeSnapTargetConfig} from './drag-snap-logic/normalize-snap-target-config';\nimport {DRAG_STATES} from './drag-snap-logic/drag-states'; \nimport {snapTargetCollectors} from './defaults/default-snap-target-collectors';\nimport {distanceBasedWithOffset} from './defaults/default-snap-priority';\nimport {extend, shallowCloneExcluding, shallowEqual} from './utils/object-utils';\nimport {getDisplayName} from './utils/react-utils';\nimport {toArray} from './utils/array-utils';\nimport {isFunction, isObject, isNumber, isNullOrUndefined, isArray} from './utils/type-utils';\nimport {createGuid} from './utils/guid-utils';\nimport {distance} from './utils/point-utils';\nimport {byId} from './utils/sort';\n\nfunction configure(customConfig = {}, collect = snapTargetCollectors.staticAndLowFrequencyProps) {\n    const config = normalizeSnapTargetConfig(customConfig);\n\n    return function makeSnapTarget(WrappedComponent) {\n        class SnapTarget extends Component {\n            constructor(props) {\n                super(props);\n\n                this.draggedItems = [];\n                this.baseExternalTransformation = null;\n                this.internalTransformation = null;\n                this.matrix = null;\n                this.size = null;\n                this.DOMElementHelper = new DOMElementHelper();\n\n                this.state = {\n                    collectedDragProps: this.collectDragProps().collectedDragProps\n                };\n\n                //Convert to class based component, if functional. Functional components can't have refs since. We need refs\n                this.ClassBasedWrappedComponent = makeClassBasedComponent(WrappedComponent);\n                this.id = createGuid();\n            }\n\n            getChildContext() {\n                return {\n                    setInternalTransformation: this.setInternalTransformation.bind(this)\n                };\n            }\n\n            componentDidMount() {\n                this.DOMElementHelper.updateElement(findDOMNode(this.el));\n\n                if (this.context.registerAsSnapTarget) {\n                    this.context.registerAsSnapTarget(this.id, this);\n                } else {\n                    console.warn('Not in a drag and snap context!');\n                }\n            }\n\n            componentWillUnmount() {\n                this.context.unregisterAsSnapTarget(this.id);\n            }\n\n            getId() {\n                return this.id;\n            }\n\n            update() {\n                this.matrix = null; //Invalidate the matrix, so it will be recalculated next time it is needed\n                this.DOMElementHelper.refresh();\n            }\n\n            continuousUpdateIfEnabled() {\n                if (this.props.continuousUpdate) {\n                    this.update();\n                }\n            }\n\n            getMatrix() {\n                if (!this.matrix) {\n                    this.matrix = getTransformationMatrix(this.DOMElementHelper.getElement());\n                    this.baseExternalTransformation = this.props.externalTransformation;\n                }\n\n                const externalDelta = this.props.externalTransformation\n                    ? deltaMatrix(this.baseExternalTransformation, this.props.externalTransformation)\n                    : identity();\n\n                const internalDelta = this.internalTransformation\n                    ? deltaMatrix({x: 0, y: 0, rotate: 0, skewX: 0, scale: 1}, this.internalTransformation)\n                    : identity();\n\n                return transformMultiple(this.matrix, externalDelta, internalDelta);\n            }\n\n            getSize() {\n                //If size is queried before first render, just report 0 size\n                return this.DOMElementHelper.getSizeOrDefault({width: 0, height: 0});\n            }\n\n            getScaledSize() {\n                const size = this.getSize();\n                const {scaleX, scaleY} = qrDecompose(this.getMatrix());\n\n                return {\n                    width: size.width * scaleX,\n                    height: size.height * scaleY\n                };\n            }\n\n            //Converts the descriptor, velocity and cursor point from the global (window) coordinate system, to the local coordinate system of the snap taget.\n            makeSnapTargetSpecific({id, dragState, dragData, matrix, scaledSize, velocity, cursorPosition, snapTargetId}) {                                \n                const {x, y, rotate, skewX, skewY} = qrDecompose(matrix);\n                const localPosition = transformPosition(this.getMatrix(), {x, y});\n                const localRotation = transformRotation(this.getMatrix(), rotate);\n                const localScale = transformScale(this.getScaledSize(), scaledSize);\n                const localSkew = transformSkew(this.getMatrix(), {x: skewX, y: skewY});\n                const isSnappingToThisTarget = (this.id === snapTargetId);\n                const isSnappingToOtherTarget = !isNullOrUndefined(snapTargetId) && !isSnappingToThisTarget;\n\n                const localTransform = extend({rotate: localRotation}, localPosition, localScale, localSkew)\n\n                return {\n                    id,\n                    dragState,\n                    dragData,\n                    transform: localTransform,\n                    distance: distance({x: localTransform.x, y: localTransform.y}),\n                    velocity: velocity ? transformVelocity(this.getMatrix(), velocity) : null,\n                    cursorPosition: cursorPosition ? transformPosition(this.getMatrix(), cursorPosition) : null,\n                    isSnappingToThisTarget,\n                    isSnappingToOtherTarget\n                };\n            }\n\n            getProps() {\n                const {collectedDragProps} = this.state;\n                \n                return isArray(collectedDragProps) ?\n                    extend(shallowCloneExcluding(this.props, LIBRARY_PROPS), {draggedItems: collectedDragProps}) :\n                    extend(shallowCloneExcluding(this.props, LIBRARY_PROPS), collectedDragProps);\n            }\n\n            getSelfDescriptor() {\n                return extend(this.getSize(), {props: this.getProps()})\n            }\n\n            getParams(draggableDescriptor) {\n                return [\n                    this.makeSnapTargetSpecific(draggableDescriptor),\n                    this.getSelfDescriptor(),\n                    {draggedItems: this.draggedItems}\n                ]; //TODO: SHOULD WE SOMEHOW INJECT THE draggableToTarget and targetToDraggable matrices here?\n            }\n\n            isSnapCriteriaMet(dragState, draggableDescriptor) {\n                const criteria = toArray(dragState === DRAG_STATES.RELEASED ? config.releaseSnapCriteria : config.dragSnapCriteria);\n                const params = this.getParams(draggableDescriptor);\n                return criteria.every(criterium => criterium(...params));\n            }\n\n            getSnapPriority(dragState, draggableDescriptor) {\n                const {releaseSnapPriority, dragSnapPriority, snapPriority: commonPriority} = this.props;\n                const snapPriority = (dragState === DRAG_STATES.RELEASED ? releaseSnapPriority : dragSnapPriority) || commonPriority;\n                const params = this.getParams(draggableDescriptor);\n                const priority = isFunction(snapPriority) ? snapPriority(...params) : snapPriority;\n\n                invariant(isNumber(priority), `snapPriority must be a number or a function that returns a number.`);\n                invariant(priority >= 1, `SnapPriority should be 1 (highest priority) or larger. Was ${priority}`);\n\n                return priority;\n            }\n\n            getSnapping(dragState, draggableDescriptor) {\n                const _snapTransform = dragState === DRAG_STATES.RELEASED ? config.releaseSnapTransform : config.dragSnapTransform;\n                const params = this.getParams(draggableDescriptor);\n                const snapTransform = isFunction(_snapTransform) ? _snapTransform(...params) : _snapTransform;\n\n                const normalizedSnapTransform = normalizeTransform(\n                    snapTransform,\n                    draggableDescriptor.scaledSize,\n                    this.getScaledSize()\n                );\n\n                const snapMatrix = createSnapMatrix(\n                    this.getMatrix(), \n                    normalizedSnapTransform,\n                    this.DOMElementHelper,\n                    draggableDescriptor.DOMElementHelper\n                );\n\n                const {x, y} = transformPosition(this.getMatrix(), extractTranslation(draggableDescriptor.matrix));\n                const isPositionSnapped = x !== normalizedSnapTransform.x || y !== normalizedSnapTransform.y;\n\n                return {\n                    matrix: snapMatrix,\n                    customSnapProps: normalizedSnapTransform.customSnapProps,\n                    isPositionSnapped,\n                    snapTargetId: this.id\n                };\n            }\n\n            allowsEasyEscape(draggableDescriptor) {\n                const {easyEscape} = this.props;\n                const params = this.getParams(draggableDescriptor);\n                return isFunction(easyEscape) ? easyEscape(...params) : easyEscape;\n            }\n\n            onDropEvent(type, draggableDescriptor, globalSnapMatrix) {\n                const snapTargetSpecificDraggableDescriptor = this.makeSnapTargetSpecific(draggableDescriptor);\n               \n                switch (type) {\n                    case 'start':\n                        this.props.onDropStart(snapTargetSpecificDraggableDescriptor, this.getSelfDescriptor(), qrDecompose(globalSnapMatrix)); //TODO: FIGURE OUT IF THIS SHOULD INFACT BE GLOABEL? PROBABLY NOT!!!\n                        break;\n                    case 'complete':\n                        this.props.onDropComplete(snapTargetSpecificDraggableDescriptor, this.getSelfDescriptor());\n                        break;\n                    case 'cancel':\n                        this.props.onDropCancel(snapTargetSpecificDraggableDescriptor, this.getSelfDescriptor());\n                        break;\n                    default:\n                        break;\n                }\n            }\n\n            collectDragProps(cur) {\n                const items = this.draggedItems || [];\n                items.sort(byId);\n                const next = collect(items, extend(this.getSize(), {props: shallowCloneExcluding(this.props, LIBRARY_PROPS)}));\n                \n                invariant(\n                    isObject(next) || (isArray(next) && next.length === items.length),\n                    `collect function must return an object or an array of objects equal to the number of dragged items`\n                );\n\n                const hasChanged = (\n                    isNullOrUndefined(cur) ||\n                    (isObject(next) && !shallowEqual(cur, next)) ||\n                    (isArray(next) && (cur.length !== next.length || next.some((o, i) => !shallowEqual(o, cur[i]))))\n                ); \n\n                return {\n                    hasChanged,\n                    collectedDragProps: next\n                };\n            }\n\n            updateDragProps() {\n                const {collectedDragProps, hasChanged} = this.collectDragProps(this.state.collectedDragProps);\n\n                if (hasChanged) {\n                    this.setState({collectedDragProps})\n                }\n            }\n\n            updateItem(draggableDescriptor) {\n                const localDragStateDescriptor = this.makeSnapTargetSpecific(draggableDescriptor);\n                this.draggedItems = this.draggedItems.filter(p => p.id !== draggableDescriptor.id).concat(localDragStateDescriptor);\n                this.updateDragProps();\n            }\n\n            removeItem(id) {\n                this.draggedItems = this.draggedItems.filter(d => d.id !== id);\n                this.updateDragProps();\n            }\n\n            setInternalTransformation(internalTransformation) {\n                this.internalTransformation = internalTransformation;\n            }\n\n            render() {\n                return <this.ClassBasedWrappedComponent {...this.getProps()} ref={el => (this.el = el)} />;\n            }\n        }\n\n        SnapTarget.displayName = `makeSnapTarget(${getDisplayName(WrappedComponent)})`;\n        SnapTarget.propTypes = SnapTargetPropTypes;\n\n        SnapTarget.defaultProps = {\n            onDropStart: () => {},\n            onDropComplete: () => {},\n            onDropCancel: () => {},\n            easyEscape: false,\n            continuousUpdate: false,\n            snapPriority: distanceBasedWithOffset(100)\n        };\n\n        SnapTarget.contextTypes = {\n            registerAsSnapTarget: PropTypes.func.isRequired,\n            unregisterAsSnapTarget: PropTypes.func.isRequired\n        };\n\n        SnapTarget.childContextTypes = {\n            setInternalTransformation: PropTypes.func\n        };\n\n        return SnapTarget;\n    };\n}\n\nconst SnapTargetPropTypes = {\n    snapPriority: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    dragSnapPriority: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    releaseSnapPriority: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    onDropStart: PropTypes.func,\n    onDropComplete: PropTypes.func,\n    onDropCancel: PropTypes.func,\n    easyEscape: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    continuousUpdate: PropTypes.bool,\n    externalTransformation: CustomPropTypes.transform\n};\n\nconst LIBRARY_PROPS = Object.keys(SnapTargetPropTypes);\n\nexport default configure;\n","function debounce(fn, wait = 100) {\n    let timeout;\n    return (...args) => {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => fn.call(this, ...args), wait);\n    };\n}\n\nclass WindowSizeMonitor {\n    constructor() {\n        this.nextId = 0;\n        this.subscriptions = {};\n    }\n\n    subscribeToResizeEnd(callback) {\n        const id = this.nextId;\n        const debouncedCallback = debounce(callback);\n        window.addEventListener('resize', debouncedCallback);\n        this.subscriptions[id] = debouncedCallback;\n        this.nextId++;\n        \n        return id;\n    }\n\n    unsubscribeToResizeEnd(id) {\n        const method = this.subscriptions[id];\n \n        if (method) {\n            window.removeEventListener('resize', method);\n        }\n\n        this.subscriptions[id] = undefined;\n    };\n}\n\nexport {WindowSizeMonitor};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {inverse, transform} from 'transformation-matrix';\nimport {getTransformationMatrix} from './utils/matrix-utils';\nimport {lowestPriority} from './defaults/default-snap-priority';\nimport {StyleInjector} from './helpers/misc/style-injector';\nimport {WindowSizeMonitor} from './helpers/misc/window-size-monitor';\nimport {dragModeStyles} from './drag-snap-logic/drag-modes';\n\nclass DragSnapContext extends Component {\n    constructor(props) {\n        super(props);\n\n        this.snapTargets = [];\n        this.grabbedCount = 0;\n        this.draggedCount = 0;\n        this.releasedCount = 0;\n        this.styleInjector = new StyleInjector();\n        this.windowSizeMonitor = new WindowSizeMonitor();\n    }\n\n    getChildContext() {\n        return {\n            snap: this.snap.bind(this),\n            windowToContext: this.windowToContext.bind(this),\n            contextToWindow: this.contextToWindow.bind(this),\n            onDragStateUpdate: this.onDragStateUpdate.bind(this),\n            relayDropEvent: this.relayDropEvent.bind(this),\n            registerAsSnapTarget: this.registerAsSnapTarget.bind(this),\n            unregisterAsSnapTarget: this.unregisterAsSnapTarget.bind(this),\n            getDragContainerDOMElement: this.getDragContainerDOMElement.bind(this),\n            getSize: this.getSize.bind(this),\n            relayDraggableUpdateToTargets: this.relayDraggableUpdateToTargets.bind(this),\n            relayDraggableRemovalToTargets: this.relayDraggableRemovalToTargets.bind(this)\n        };\n    }\n\n    componentDidMount() {\n        this.styleNode = this.styleInjector.inject(dragModeStyles);\n        this.inverseContainerMatrix = inverse(getTransformationMatrix(this.container));\n        this.updateSizeMeasurement();\n\n        this.resizeEndSubscription = this.windowSizeMonitor.subscribeToResizeEnd(() => {\n            this.inverseContainerMatrix = inverse(getTransformationMatrix(this.container));\n            this.snapTargets.forEach((snapTarget) => snapTarget.update());\n            this.updateSizeMeasurement();\n        });\n    }\n\n    updateSizeMeasurement() {\n        this.size = {\n            width: this.container.clientWidth,\n            height: this.container.clientHeight\n        };\n    }\n\n    componentWillUnmount() {\n        this.styleInjector.remove(this.styleNode);\n        this.windowSizeMonitor.unsubscribeToResizeEnd(this.resizeEndSubscription);\n        this.snapTargets = [];\n    }\n\n    getDragContainerDOMElement() {\n        return this.container;\n    }\n\n    getSize() {\n        return this.size;\n    }\n\n    registerAsSnapTarget(id, snapTargetComponent) {\n        this.snapTargets.push(snapTargetComponent);\n    }\n\n    unregisterAsSnapTarget(id) {\n        this.snapTargets = this.snapTargets.filter(target => target.getId() !== id);\n    }\n\n    relayDropEvent(snapTargetId, ...args) {\n        const snapTarget = this.snapTargets.find((target) => target.getId() === snapTargetId);\n        if (snapTarget) {\n            snapTarget.onDropEvent(...args);\n        }\n    }\n\n    relayDraggableUpdateToTargets(...args) {\n        this.snapTargets.forEach((target) => target.updateItem(...args));\n    }\n\n    relayDraggableRemovalToTargets(id) {\n        this.snapTargets.forEach((target) => target.removeItem(id));\n    }\n\n    snap(firstSnapTargetId, hasEscaped, dragState, draggableDescriptor) {\n        let isInSnappingArea = false; //When true it doesn't necessarily mean it will snap (if target allows easyEscape)\n        let snapping = null;\n        let allowsEasyEscape = false;\n        let hasEscapedNow;\n        let maxPriority = lowestPriority;\n        let _firstSnapTargetId = firstSnapTargetId;\n\n        this.snapTargets.forEach((target) => {\n            target.continuousUpdateIfEnabled();\n\n            if (target.isSnapCriteriaMet(dragState, draggableDescriptor)) {\n                isInSnappingArea = true;\n                const priority = target.getSnapPriority(dragState, draggableDescriptor);\n\n                if (priority <= maxPriority) {  //Smaller number means higher priority\n                    maxPriority = priority;\n                    snapping = target.getSnapping(dragState, draggableDescriptor);\n                    allowsEasyEscape = target.allowsEasyEscape(draggableDescriptor);\n                }\n            }\n        });\n\n        hasEscapedNow = hasEscaped || !isInSnappingArea;\n\n        if (snapping) {\n            const isStillFirstSnapTarget = (!firstSnapTargetId || firstSnapTargetId === snapping.snapTargetId);\n            _firstSnapTargetId = _firstSnapTargetId || (snapping ? snapping.snapTargetId : null)\n            \n            //If easyEscape is enabled for the snapTarget, and it is still in its realm, disable the snapping\n            if (snapping && !hasEscapedNow && allowsEasyEscape && isStillFirstSnapTarget) {\n                snapping = null;\n            } else {\n                hasEscapedNow = true;\n            }\n        }\n\n        return {\n            matrix: snapping ? snapping.matrix : draggableDescriptor.matrix,\n            customSnapProps: snapping ? snapping.customSnapProps : {},\n            isPositionSnapped: snapping ? snapping.isPositionSnapped : false,\n            isSnapping: !!snapping,\n            hasEscaped: hasEscapedNow,\n            snapTargetId: snapping ? snapping.snapTargetId : null,\n            firstSnapTargetId: _firstSnapTargetId\n        };\n    }\n\n    contextToWindow(matrix) {\n        return transform(inverse(this.inverseContainerMatrix), matrix);\n    }\n\n    windowToContext(matrix) {\n        return transform(this.inverseContainerMatrix, matrix);\n    }\n\n    onDragStateUpdate(update) {\n        switch (update) {\n            case 'grab':\n                this.grabbedCount++;\n                break;\n            case 'start':\n                this.grabbedCount--;\n                this.draggedCount++;\n                break;\n            case 'cancel':\n                this.grabbedCount--;\n                break;\n            case 'ending':\n                this.draggedCount--;\n                this.releasedCount++\n                break;\n            case 'resume':\n                this.draggedCount++;\n                this.releasedCount--;\n                break;\n            case 'ended':\n                this.releasedCount--;\n                break;\n            default:\n                break;\n        }\n\n        this.props.onChange({\n            grabbedCount: this.grabbedCount,\n            draggedCount: this.draggedCount,\n            releasedCount: this.releasedCount,\n            totalCount: this.grabbedCount + this.draggedCount + this.releasedCount\n        });\n    }\n\n    render() {\n        return (\n            <div\n                style={{position: 'relative', width: '100%', height: '100%', display: 'inline-block'}}\n                ref={container => (this.container = container)}\n            >\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nDragSnapContext.childContextTypes = {\n    snap: PropTypes.func,\n    windowToContext: PropTypes.func,\n    contextToWindow: PropTypes.func,\n    onDragStateUpdate: PropTypes.func,\n    relayDropEvent: PropTypes.func,\n    relayDraggableUpdateToTargets: PropTypes.func,\n    relayDraggableRemovalToTargets: PropTypes.func,\n    getDragContainerDOMElement: PropTypes.func,\n    getSize: PropTypes.func,\n    registerAsSnapTarget: PropTypes.func,\n    unregisterAsSnapTarget: PropTypes.func\n};\n\nDragSnapContext.propTypes = {\n    onChange: PropTypes.func\n};\n\nDragSnapContext.defaultProps = {\n    onChange: () => {}\n};\n\nexport default DragSnapContext;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {shallowClone} from './utils/object-utils'; \n\nconst transformProps = ['x', 'y', 'scaleX', 'scaleY', 'scale', 'skewX', 'skewY', 'rotate'];\nconst defaultTransform = {\n\tx: 0,\n\ty: 0,\n\tscale: 1,\n\tskewX: 0,\n\tskewY: 0,\n\trotate: 0\n};\n\nclass InternalSnapTargetTransform extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.transform = defaultTransform;\n\t}\n\n\tcomponentWillReceiveProps(newProps) {\n\t\tif (transformProps.some((prop) => this.transform[prop] !== newProps[prop])) {\n\t\t\tthis.context.setInternalTransformation(shallowClone(newProps));\n\t\t\tthis.transform = shallowClone(newProps);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {children, x, y, scale, scaleX, scaleY, rotate, skewX, skewY} = this.props;\n\n\t\tconst _scaleX = typeof scaleX !== 'undefined' ? `scaleX(${scaleX})` : '';\n\t\tconst _scaleY = typeof scaleY !== 'undefined' ? `scaleY(${scaleY})` : '';\n\n\t\t//Wrapped in extra (non moving) div to ensure that getBoundingClientRect isn't impacted by the transform\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttransformOrigin: '50% 50%',\n\t\t\t\t\t\ttransform: `\n\t\t\t\t\t\t\ttranslate3d(${x}px, ${y}px, 0)\n\t\t\t\t\t\t\tscale(${scale})\n\t\t\t\t\t\t\t${_scaleX}\n\t\t\t\t\t\t\t${_scaleY}\n\t\t\t\t\t\t\trotate(${rotate}deg)\n\t\t\t\t\t\t\tskewX(${skewX}deg)\n\t\t\t\t\t\t\tskewY(${skewY}deg)\n\t\t\t\t\t\t`\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n}\n\nInternalSnapTargetTransform.contextTypes = {\n\tsetInternalTransformation: PropTypes.func.isRequired\n};\n\nInternalSnapTargetTransform.propTypes = {\n\tx: PropTypes.number,\n\ty: PropTypes.number,\n\tscale: PropTypes.number,\n\tscaleX: PropTypes.number,\n\tscaleY: PropTypes.number,\n\trotate: PropTypes.number,\n\tskewX: PropTypes.number,\n\tskewY: PropTypes.number\n};\n\nInternalSnapTargetTransform.defaultProps = defaultTransform;\n\nexport default InternalSnapTargetTransform;\n"],"names":["global","performance","emptyFunction","invariant","require$$0","warning","require$$1","ReactPropTypesSecret","require$$2","assign","checkPropTypes","createGuid","s4","Math","floor","random","toString","substring","DOMElementHelper","el","computedStyles","Map","updateElement","window","getComputedStyle","forEach","elementType","m","i","length","key","value","set","boundingClientRect","getBoundingClientRect","updateComputedStyles","borderWidth","parseFloat","base","get","padding","margin","isBorderBox","contentBoxSize","clientWidth","left","right","clientHeight","top","bottom","borderBoxSize","scaleX","scaleY","size","getSize","width","height","defaultSize","invalidate","isBoolean","val","isFunction","isObject","isArray","isNumber","Array","isNullOrUndefined","shallowClone","obj","Object","extend","objects","iterate","callback","keys","shallowCloneExcluding","excludeKeys","returnObject","indexOf","shallowEqual","obj1","obj2","keys1","keys2","every","hasOwnProperty","k","matrixFromString","string","entries","replace","split","parsedEntries","map","extractRotation","matrix","atan2","b","a","PI","extractScale","denom","pow","x","sqrt","y","d","c","extractSkew","skewX","extractTranslation","e","f","skewXMatrix","fromObject","tan","skew","translationOnly","overrideTranslation","qrDecompose","scale","getCenterOfBorderBox","domElementHelper","getCenterOfContentBox","CSSTransform","getPadding","getBorderWidth","rotation","rotate","transformMultiple","translate","applyToPoint","getCSSTransformsMatrix","DOMElement","elementTransform","transform","identity","getAccumulatedCSSTransform","accumulatedMatrix","offsetParent","getTransformationMatrix","accumulatedCSSTransform","elementCenter","getIsBorderBox","matrices","reduce","acc","cur","transformPosition","position","inverse","transformVelocity","velocity","translatedVelocityVector","transformRotation","transformScale","actualSnapTargetSize","actualDraggableSize","transformSkew","targetSkew","deltaMatrix","oldTransform","newTransform","DETAULT_TRANSFORM","o","n","oScaleX","oScaleY","nScaleX","nScaleY","rotateDEG","getDisplayName","component","displayName","name","subtractPoints","p1","p2","averagePoints","points","curr","scalePoint","point","distance","getOrigo","extractPointFromEvent","identifier","changedTouches","touch","item","clientX","clientY","mouse","extractFirstIdentifier","EventThrottler","handler","latestEvent","animationId","requestAnimationFrame","invokeCallback","bind","event","AVERAGING_WINDOW","PointerTracker","startCallback","moveCallback","endCallback","eventThrottler","pointerIdentifier","boundMoveHandler","moveHandler","boundEndHandler","endHandler","boundCancelHandler","cancelHandler","removeEventHandlers","removeEventListener","addEventListener","passive","prevTime","prevPosition","velocities","currentTime","now","deltaPosition","deltaTime","push","shift","stopPropagation","preventDefault","updateVelocities","addEvent","getVelocity","pause","resetVelocities","addEventHandlers","startHandler","DRAG_MODES","dragModeStyles","getDragModeAttribute","dragMode","toLowerCase","handleMissingProp","isRequired","propName","componentName","Error","createSpringConfigPropType","shape","PropTypes","number","createDragModePropType","props","prop","type","join","createTransformPropType","createSizePropType","isRequried","createPointPropType","springConfig","CustomPropTypes","hrtime","this","queue","_mapToZero","_stripStyle","_stepper3","_performanceNow","_raf","_shouldStopAnimation","_react","_propTypes","_mergeDiff","_presets","_Motion","_StaggeredMotion","_TransitionMotion","_spring","_reorderKeys","PositionSpringSwitch","state","rawTransform","alwaysOn","nextProps","activations","startDelta","springTransform","setState","isSpringOnForPosition","initialRawTransform","children","currentRawTransform","React","spring","multiplier","transformToApply","delta","displacement","Component","propTypes","bool","object","PropMonitor","oldProps","newProps","SpringRendererApplier","onRegrab","isVisible","contextSize","draggableCenterInBorderBoxCoordinates","_x","_y","func","node","Tweener","nullTransform","SpringRenderer","atRest","springActivations","propMonitor","ifShallowChange","isActive","ifBecomingTrue","onRestAfterRelease","ifDefinedValueChange","activateSpring","flipIsActive","ifBecomingFalse","isReleased","onRest","sticky","useSpring","restHandler","defaultProps","StyleInjector","mountNode","document","getElementsByTagName","style","first","createElement","innerHTML","insertBefore","firstChild","appendChild","parentNode","removeChild","StyleEnforcer","styleInjector","baseStyles","beforeStyles","afterStyles","before","after","lowPriorityStyles","inject","id","highPriorityStyles","remove","cleanUpComputedStyles","delete","getComputedStyles","injectStyles","removeStyles","isFunctionalComponent","prototype","render","makeClassBasedComponent","WrappedComponent","ClassBasedComponent","asStateSubscriber","StateSubscriber","boundStateChangeHandler","stateChangeHandler","context","subscribeToState","unsubscribeToState","call","contextTypes","asStatePublisher","StatePublisher","nextState","publishState","defaultConfig","normalizeDraggableConfig","customConfig","config","stiffness","damping","mode","move","DRAG_STATES","noProps","staticAndLowFrequencyProps","draggable","dragState","allProps","draggableCollectors","INACTIVE","GRABBED","DRAGGED","RELEASED","initialState","configure","collect","dragModeAttribute","makeDraggable","helpers","Draggable","pointerTracker","dragStartHandler","dragMoveHandler","dragEndHandler","ClassBasedWrappedComponent","statePublishingWrappedComponent","stateSubscribingWrappedComponent","boundStartPointerTracker","startTracker","findDOMNode","destroy","onDragStateUpdate","relayDraggableRemovalToTargets","nextDragState","setAttribute","removeAttribute","flipGrabbedFlag","track","cursorPosition","elementDragPosition","touchOffset","draggedMatrix","baseMatrix","snap","firstSnapTargetId","hasEscaped","getDraggableDescriptor","snapTargetId","dragData","isSnappingBack","customSnapProps","setInactive","draggableDescriptor","relayDropEvent","priorMatrix","snapping","getSnapping","isSnapping","snapBack","relayDraggableUpdateToTargets","globalTouchOffset","getInitialDragState","newState","draggingDisabled","startDrag","resumeDrag","isPositionSnapped","snapProps","applyState","contextTransform","windowToContext","undefined","restAfterReleaseHandler","dragDisplacement","dragProps","createPortal","getCenterInBorderBoxCoordinates","includes","getDragContainerDOMElement","any","childContextTypes","createSnapMatrix","snapTargetMatrix","snapTransform","snapTargetDOMElementHelper","draggableDOMElementHelper","snapTargetScaledSize","getScaledSize","currentScaleX","currentScaleY","scalingMatrix","rotationMatrix","snapTransformScalingMatrix","skewMatrix","skewY","localTranslationMatrix","translationMatrix","isPercentage","slice","getFirstDefinedValue","firstDefinedValue","values","some","TRANSFORM_PROPS","normalizeTransform","inputTransform","draggableScaledSize","normalizedTransform","translateX","translateY","p","toArray","isPercentageString","parsePercentageString","percentage","isNaN","always","never","isCenterOverTarget","isCenterWithinRadius","radius","hysteresisRadius","isSnappingToThisTarget","_radius","diagonal","isNoOtherDraggableSnapping","_","draggedItems","filter","draggableIsNotSnappingToOtherTarget","isSnappingToOtherTarget","isDragDataProp","Criteria","noSnapping","snapAllButScale","snapAll","snapPosition","snapRotation","snapScale","snapPositionAndRotation","snapPositionAndScale","snapScaleAndRotation","snapProportionally","denominator","innerRadius","dist","snapRotationProportionally","snapScaleProportionally","snapScaleAndRotationProportionally","withCustomSnapProps","_snapTransform","_customSnapProps","SnapTransformers","normalizeSnapTargetConfig","dragSnapCriteria","snapCriteria","releaseSnapCriteria","dragSnapTransform","releaseSnapTransform","extractStaticProps","extractLowFrequencyProps","staticProps","draggableDescriptors","snapTargetCollectors","lowestPriority","Number","MAX_VALUE","distanceBased","max","distanceBasedWithOffset","offset","byId","makeSnapTarget","SnapTarget","baseExternalTransformation","internalTransformation","collectDragProps","collectedDragProps","setInternalTransformation","registerAsSnapTarget","warn","unregisterAsSnapTarget","refresh","continuousUpdate","update","getElement","externalTransformation","externalDelta","internalDelta","getSizeOrDefault","getMatrix","scaledSize","localPosition","localRotation","localScale","localSkew","localTransform","LIBRARY_PROPS","getProps","makeSnapTargetSpecific","getSelfDescriptor","criteria","params","getParams","criterium","releaseSnapPriority","dragSnapPriority","commonPriority","snapPriority","priority","normalizedSnapTransform","snapMatrix","easyEscape","globalSnapMatrix","snapTargetSpecificDraggableDescriptor","onDropStart","onDropComplete","onDropCancel","items","sort","next","hasChanged","localDragStateDescriptor","concat","updateDragProps","SnapTargetPropTypes","oneOfType","debounce","fn","wait","timeout","args","setTimeout","WindowSizeMonitor","nextId","subscriptions","debouncedCallback","method","DragSnapContext","snapTargets","grabbedCount","draggedCount","releasedCount","windowSizeMonitor","contextToWindow","styleNode","inverseContainerMatrix","container","updateSizeMeasurement","resizeEndSubscription","subscribeToResizeEnd","snapTarget","unsubscribeToResizeEnd","snapTargetComponent","target","getId","find","onDropEvent","updateItem","removeItem","isInSnappingArea","allowsEasyEscape","hasEscapedNow","maxPriority","_firstSnapTargetId","continuousUpdateIfEnabled","isSnapCriteriaMet","getSnapPriority","isStillFirstSnapTarget","onChange","display","transformProps","defaultTransform","InternalSnapTargetTransform","_scaleX","_scaleY"],"mappings":"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"}